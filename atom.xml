<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>kur0mi&#39;s blog</title>
  
  <subtitle>faith and brave</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://blog.nightmare.xin/"/>
  <updated>2018-03-21T03:14:23.973Z</updated>
  <id>https://blog.nightmare.xin/</id>
  
  <author>
    <name>kur0mi</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>socket tool</title>
    <link href="https://blog.nightmare.xin/socket.html"/>
    <id>https://blog.nightmare.xin/socket.html</id>
    <published>2018-03-20T09:58:18.000Z</published>
    <updated>2018-03-21T03:14:23.973Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://github.com/kur0mi/socket" target="_blank" rel="external">项目地址</a></p><p>TODO：</p><ul><li><p>信号控制</p></li><li><p>多线（进）程处理（目前确认多进程方案）</p></li><li><p>more …</p></li></ul><h2 id="day-3-20-选择"><a href="#day-3-20-选择" class="headerlink" title="day_3_20 选择"></a>day_3_20 选择</h2><p>涉及到 socket 网络应用，99% 的时间都浪费在 IO 等待而不是 CPU 的计算，所以使用 开发快速的语言，如 python，会很方便，因为它影响的 CPU 计算速度 对于 IO 来说极其有限。</p><p><del>虽然由于 GIL 的存在，使得 python 的多线程变得很是鸡肋 —— 它同一时间实际只有一个线程在运行。</del></p><p><del>但我还是决定使用 python 多线程来完成需求。一是由于 python 抽象程度高，可以在练习中更加专注于想学习的部分，而不是处理一处又一处的细节搞得焦头烂额。二是 python 开发速度快，对于前期产品的测试和使用是足够满足要求的。即便是随着规模的扩大使得 python 多线程速度的弊端暴露出来，由于了解了技术细节，用其他语言重写也会相对容易。</del></p><pre><code>3-21今天我了解到python多线程无法充分利用多核资源，但是多进程是可以的，算是一个好消息了</code></pre><p>多进程使得程序可以充分利用 CPU 多核资源，主进程负责分发任务，子进程处理请求。Apache 就是这种模式。</p><p>但是多进程需要极大地开销，因为每个进程独占所有资源，进程的切换每次都要保存现场-恢复现场。</p><p>多线程，又叫轻量级进程。多线程的切换代价极小，因为所有线程共享同一份系统资源，同时这使得它难以控制。IIS 就是这种模式。</p><p>现在流行一种多任务处理技术叫做 异步 IO，又叫协程，可以在单线程内高效率的处理多任务。有时间再学习一下。</p><p>因为 python 多线程的弊端，多线程不予考虑。</p><p>目前确定的方案是 多进程，协程 还有待研究。多进程还支持分布式，真是 wow，不过估计用不到了。</p><h2 id="demo-list"><a href="#demo-list" class="headerlink" title="demo list"></a>demo list</h2><blockquote><p>Process</p></blockquote><p>os.fork 方法不具有跨平台的特点。与此相比，使用 multiprocessing 中的 Process 模块，封装了 fork 方法，支持跨平台而且封装程度更高。</p><p><img src="http://store.nightmare.xin/18-3-20/17742477.jpg" alt=""></p><p>start() 方法启动一个进程</p><p>join() 方法用来阻塞主进程，等待子进程运行结束再继续执行</p><p>Process.pid 返回进程 id</p><p>还可以使用 os.getpid()，os.getppid() 获取 ID</p>]]></content>
    
    <summary type="html">
    
      socket 端口转发
    
    </summary>
    
      <category term="demo" scheme="https://blog.nightmare.xin/categories/demo/"/>
    
    
      <category term="demo" scheme="https://blog.nightmare.xin/tags/demo/"/>
    
  </entry>
  
  <entry>
    <title>无法 ping 通 github.com</title>
    <link href="https://blog.nightmare.xin/hexo_upload_fail.html"/>
    <id>https://blog.nightmare.xin/hexo_upload_fail.html</id>
    <published>2018-03-18T09:58:18.000Z</published>
    <updated>2018-03-18T12:54:34.050Z</updated>
    
    <content type="html"><![CDATA[<p>更新一下博客，输入 hexo clean &amp;&amp; hexo d -g 突然传不上去了，一开始以为是网络的原因，又传了一次还是失败了，看一下错误信息</p><p><img src="http://store.nightmare.xin/18-3-18/16700539.jpg" alt=""></p><p>22 端口 connection abort，应该是 github 连不上了</p><p>ping 也 ping 不通</p><p>解决办法是换个 ip，换一个你觉得速度还可以的 github.com 的 ip</p><p><img src="http://store.nightmare.xin/18-3-18/67953893.jpg" alt=""></p><p>进入 C:\Windows\System32\drivers\etc，右键 hosts，属性-&gt;安全-&gt;编辑，给当前用户添加写入的权限</p><p><img src="http://store.nightmare.xin/18-3-18/64095860.jpg" alt=""></p><p>然后在 hosts 文件末尾添加 一条解析</p><p>然后打开 powershell，输入 ipconfig /flushdns，刷新一下就可以 ping 通 github.com 了</p><p><img src="http://store.nightmare.xin/18-3-18/3964314.jpg" alt=""></p><p>最后博客上传成功。</p>]]></content>
    
    <summary type="html">
    
      github 咋又上不去了呀
    
    </summary>
    
      <category term="demo" scheme="https://blog.nightmare.xin/categories/demo/"/>
    
    
      <category term="demo" scheme="https://blog.nightmare.xin/tags/demo/"/>
    
  </entry>
  
  <entry>
    <title>随记</title>
    <link href="https://blog.nightmare.xin/start.html"/>
    <id>https://blog.nightmare.xin/start.html</id>
    <published>2018-03-16T14:11:43.000Z</published>
    <updated>2018-03-18T13:07:41.708Z</updated>
    
    <content type="html"><![CDATA[<h2 id="day-0x00-Friday"><a href="#day-0x00-Friday" class="headerlink" title="day_0x00 Friday"></a>day_0x00 Friday</h2><p>面对未来和未知的担忧和恐慌，在今天快要结束时终于消失的无影无踪。</p><h2 id="day-0x02-Sunday"><a href="#day-0x02-Sunday" class="headerlink" title="day_0x02 Sunday"></a>day_0x02 Sunday</h2><p>自己封装了 socket 的端口转发，然后需要解决 异常处理 的问题了。</p><p>还是很满意，以后差不多在这里住下了..</p>]]></content>
    
    <summary type="html">
    
      随便记点什么吧，想到哪写到哪233
    
    </summary>
    
      <category term="Life" scheme="https://blog.nightmare.xin/categories/Life/"/>
    
    
      <category term="DIARY" scheme="https://blog.nightmare.xin/tags/DIARY/"/>
    
  </entry>
  
  <entry>
    <title>PA - 一些坑</title>
    <link href="https://blog.nightmare.xin/PA-questions.html"/>
    <id>https://blog.nightmare.xin/PA-questions.html</id>
    <published>2018-03-08T05:44:34.000Z</published>
    <updated>2018-03-08T06:00:16.719Z</updated>
    
    <content type="html"><![CDATA[<h2 id="6A-push-Ib"><a href="#6A-push-Ib" class="headerlink" title="6A: push Ib"></a>6A: push Ib</h2><p>问题首先发现是在这里 tests/add.c</p><p><img src="http://store.nightmare.xin/8fed1493aadb125b2bfce8281dbb886f.png" alt=""></p><p>main 中循环判断 add 的结果是否正确。</p><p>关键汇编代码如下</p><p><img src="http://store.nightmare.xin/d00409d09a259573be913a94e8d2ba31.png" alt=""></p><p>ebx 记录循环次数，每次减一，减到0结束循环，问题的关键出在这里边。通过手动修改，我发现循环次数大于4就会出问题，报很奇怪的错误。</p><p>通过手动查看代码发现问题</p><p><img src="http://store.nightmare.xin/e567ba9ca5f43fa0a2cea583a805576c.jpg" alt=""></p><p>em… 6a 01 在opcode table解释为 push Ib，这给人一种误解，是push一个字节，然后我上网搜索不能push一个字节，需要对单字节扩展。</p><p>所以处理 push Ib 的时候对单字节操作数进行符号扩展就好了。</p>]]></content>
    
    <summary type="html">
    
      PA 中遇到过的神坑，必看。调几天都调不出来的那种。正所谓，千行代码两茫茫，bug何处藏...
    
    </summary>
    
      <category term="PAs" scheme="https://blog.nightmare.xin/categories/PAs/"/>
    
    
      <category term="PAs" scheme="https://blog.nightmare.xin/tags/PAs/"/>
    
  </entry>
  
  <entry>
    <title>PA - 杂项</title>
    <link href="https://blog.nightmare.xin/PA-coffee.html"/>
    <id>https://blog.nightmare.xin/PA-coffee.html</id>
    <published>2018-03-03T13:12:40.000Z</published>
    <updated>2018-03-03T13:56:02.507Z</updated>
    
    <content type="html"><![CDATA[<h2 id="高亮显示文本"><a href="#高亮显示文本" class="headerlink" title="高亮显示文本"></a>高亮显示文本</h2><figure class="highlight c"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">enum</span> &#123;</div><div class="line">    black = <span class="number">30</span>, red, green, yellow, blue,</div><div class="line">    purple, darkgreen, white</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> kurumi(back, front, format, ...) \</span></div><div class="line">  <span class="keyword">do</span> &#123; \</div><div class="line">      fflush(<span class="built_in">stdout</span>); \</div><div class="line">      <span class="built_in">fprintf</span>(<span class="built_in">stdout</span>, <span class="string">"\x1b[%d;%dm"</span>, back+<span class="number">10</span>, front); \</div><div class="line">      <span class="built_in">fprintf</span>(<span class="built_in">stdout</span>, format, ## __VA_ARGS__); \</div><div class="line">      <span class="built_in">fprintf</span>(<span class="built_in">stdout</span>, <span class="string">"\x1b[0m"</span>); \</div><div class="line">  &#125; <span class="keyword">while</span> (<span class="number">0</span>)</div></pre></td></tr></table></figure><p>调用方式： kurumi(背景色, 前景色, 格式字符串, 参数表列);</p><p>也可以进一步封装。</p><p>参考文章: <a href="http://blog.csdn.net/feixiaku/article/details/39639553" target="_blank" rel="external">C/C++控制台带颜色功能输出</a></p><h2 id="vim-列编辑模式"><a href="#vim-列编辑模式" class="headerlink" title="vim 列编辑模式"></a>vim 列编辑模式</h2><p>按下 ctrl-v，上下移动可以看到选中的列，此时就可以对它们同时进行编辑</p><ol><li>按下 I（大写 i），在选中内容之前插入</li><li>按下 A，在选中内容之后插入</li><li>按下 d，删除选中内容</li><li>其他快捷键</li></ol><h2 id="vim-批量修改替换-字符串"><a href="#vim-批量修改替换-字符串" class="headerlink" title="vim 批量修改替换 字符串"></a>vim 批量修改替换 字符串</h2><p>:s/XXX/YYY 将当前行的XXX修改为YYY（仅修改第一个XXX）<br>:s/XXX/YYY/g 将当前行的XXX修改为YYY（全部）<br>:3,5s/XXX/YYY/g 修改从第3行到第5行</p><p>先用 V 模式选中块区域，然后按 :（冒号）可以快速对选中内容进行替换<br>:’&lt;,’&gt;s/XXX/YYY/g</p><h2 id="C代码格式化"><a href="#C代码格式化" class="headerlink" title="C代码格式化"></a>C代码格式化</h2><p>按unix内核的格式格式化，还需要修改indent的配置文件，具体在哪忘了。。</p><p>附带一些格式化之后的更正和备份文件的删除</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> file <span class="keyword">in</span> `find . -<span class="built_in">type</span> f -name <span class="string">"*.[ch]"</span>`</div><div class="line"><span class="keyword">do</span></div><div class="line">indent <span class="variable">$file</span></div><div class="line">sed -i <span class="string">'s/2 byte_esc/2byte_esc/g'</span> <span class="variable">$file</span></div><div class="line">sed -i <span class="string">'s/0 b/0b/g'</span> <span class="variable">$file</span></div><div class="line">sed -i <span class="string">'s/- &gt;/-&gt;/g'</span> <span class="variable">$file</span></div><div class="line">sed -i <span class="string">'s/retrun/return/g'</span> <span class="variable">$file</span></div><div class="line"><span class="keyword">done</span></div><div class="line">find . -<span class="built_in">type</span> f -name <span class="string">"*.orig"</span> | xargs rm</div><div class="line">find . -<span class="built_in">type</span> f -name <span class="string">"*~"</span> | xargs rm</div><div class="line">find . -<span class="built_in">type</span> f -name <span class="string">"*.swp"</span> | xargs rm</div><div class="line">find . -<span class="built_in">type</span> f -name <span class="string">"*.swo"</span> | xargs rm</div></pre></td></tr></table></figure><h2 id="符号位扩展-和-零扩展"><a href="#符号位扩展-和-零扩展" class="headerlink" title="符号位扩展 和 零扩展"></a>符号位扩展 和 零扩展</h2><p>参与运算的两个数位数不一致时，就需要对其中一个数进行数位扩展</p><p>符号位扩展： 若符号位是1，则高位全部扩展为1；若符号位是0，高位全部扩展为0。</p><p>至于零扩展，无论如何，高位都扩展为0。</p><p>当你想要参与运算的是一个有符号数时，就进行符号扩展；当你想要进行无符号数运算时，就进行零扩展。</p><p>简单来说，也就是计算时心里要有B数。</p>]]></content>
    
    <summary type="html">
    
      一些乱七八糟的东西
    
    </summary>
    
      <category term="PAs" scheme="https://blog.nightmare.xin/categories/PAs/"/>
    
    
      <category term="PAs" scheme="https://blog.nightmare.xin/tags/PAs/"/>
    
  </entry>
  
  <entry>
    <title>PA - 标志位相关</title>
    <link href="https://blog.nightmare.xin/PA-eflags.html"/>
    <id>https://blog.nightmare.xin/PA-eflags.html</id>
    <published>2018-03-02T04:47:23.000Z</published>
    <updated>2018-03-02T06:12:59.826Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>什么是标志位？</p></blockquote><p>x86架构的CPU中有32位的标志寄存器（eflags），在PA中只关心其中的五个 : ZF（零标志位），SF（符号标志位），OF（溢出标志位），CF（进位标志位），IF（中断标志位）。</p><blockquote><p>ZF 和 SF</p></blockquote><p>ZF（zero flag）用于指示计算结果是否是 0。</p><p>SF（sign flag）用于指示计算结果的符号位，显然，我们应将计算结果看做有符号数。</p><blockquote><p>原码，补码和反码</p></blockquote><p>正数  1 0001（原码） 0001（反码） 0001（补码）</p><p>负数 -1 1001（原码） 1110（反码） 1111（补码）</p><blockquote><p>有符号数和无符号数</p></blockquote><p>在计算中没有所谓的符号之分，计算机中存储数值用补码来表示，比如四位加法 ：1000b + 0001b = 1001b，如果看成无符号数为 8+1=9，如果看成有符号数则是 -8+1=-7，计算机只是简单的将补码按位相加。</p><p>但是由于计算机只能存储四位（假设），这样并不能保证计算结果总是正确的。</p><blockquote><p>OF 和 CF</p></blockquote><p>OF（overflow flag）指示无符号数的运算结果是否产生溢出。比如 1111b + 1111b = 1110b，即 15+15=14，显然高位被丢弃导致溢出而使得计算结果不准确。此时OF标志位置1。</p><p>CF（carry flag）指示有符号数的运算结果是否产生进位或借位。比如 0111b + 0111b = 1110b，即 7+7=-2，这是由于产生进位使得计算结果不准确。此时CF标志位置1。</p><blockquote><p>溢出和进位（借位）的区别</p></blockquote><p>溢出表示无符号数的运算超出范围（0~15），进位（借位）表示有符号数的运算超出范围（-8~7）。</p><p>溢出不一定产生进位（借位），比如上面的 1111b + 1111b = 1110b 产生了溢出，但看做有符号数运算时 -1+-1=-2 计算结果是准确的，并没有进位。</p><p>同理，0111b + 0111b = 1110b 虽然产生了进位，但是若看做无符号数 7+7=14，并没有超出范围，结果准确，没有溢出。</p><blockquote><p>SF 和 ZF 判断方法</p></blockquote><p>SF只需判断运算结果的最高有效位</p><p>ZF只需判断运算结果是否为0</p><blockquote><p>对于加法指令 add : res = dest + src</p></blockquote><p>若 res &lt; dest 则 溢出</p><p>若 dest 与 src 同号，res 变号则 进位</p><p>特别的，对于 带进位加法 adc : res = dest + src + carry，分两次加法判断即可，只要其中有一次溢出（进位|借位），那么结果就溢出（进位|借位）。</p><blockquote><p>对于减法 sub : res = dest - src</p></blockquote><p>若 dest &lt; src 则 溢出</p><p>若 dest 与 src 符号相反，res 与 src 同号则 进位（将减法考虑为加法）</p><p>特别的对于 sbb : res = dest - src - carry，方法同上。</p><pre><code>未完待续...</code></pre>]]></content>
    
    <summary type="html">
    
      PA 中标志位的判断方法总结
    
    </summary>
    
      <category term="PAs" scheme="https://blog.nightmare.xin/categories/PAs/"/>
    
    
      <category term="PAs" scheme="https://blog.nightmare.xin/tags/PAs/"/>
    
  </entry>
  
  <entry>
    <title>PA - 接口相关</title>
    <link href="https://blog.nightmare.xin/PA-interface.html"/>
    <id>https://blog.nightmare.xin/PA-interface.html</id>
    <published>2018-02-19T09:05:11.000Z</published>
    <updated>2018-03-02T07:02:31.464Z</updated>
    
    <content type="html"><![CDATA[<h2 id="接口函数"><a href="#接口函数" class="headerlink" title="接口函数"></a>接口函数</h2><blockquote><p>PA 中有许多接口函数，可以供我们直接调用，特别方便，但是得先了解各个参数和功能，现在把它们总结在这里，方便以后查阅</p></blockquote><pre><code>以下将guest客户地址写做虚拟地址，将host地址写做实际地址。</code></pre><blockquote><p>地址转换</p></blockquote><ol><li><p>guest_to_host(p)</p><p> 将一个 uint32_t 类型的虚拟地址转换为 void * 的实际地址</p></li><li><p>host_to_guest(p)</p><p> 与上一个相反</p></li></ol><blockquote><p>I/O 相关</p></blockquote><ol><li><p>uint32_t vaddr_read(vaddr_t, int);</p><p> 从虚拟地址 vaddr_t 出读取 int 字节的数据，最多为四个字节。</p></li><li><p>uint32_t paddr_read(paddr_t, int);</p><p> 和上一个没什么区别。。可能以后会改吧。</p></li><li><p>void vaddr_write(vaddr_t, int, uint32_t);</p><p> 将 int 字节的数据 uint32_t 写入虚拟地址 vaddr_t，</p></li><li><p>void paddr_write(paddr_t, int, uint32_t);</p><p> 同上。。</p></li></ol><blockquote><p>ModRM 相关</p></blockquote><ol><li><p>void operand_write(Operand <em>, rtlreg_t </em>);</p><p> 将右边指针指向的数据 写入 左边的操作数（reg or mem）</p></li></ol><blockquote><p>译码相关</p></blockquote><ol><li><p>make_DHelper(XXX);</p><p> 宏展开：decode_xxx 函数</p></li><li><p>make_EHelper(XXX);</p><p> 宏展开：exec_xxx 函数</p></li><li><p>make_DopHelper(XXX);</p><p> 宏展开：decode_op_xxx 函数</p></li></ol><blockquote><p>前缀</p></blockquote><ol><li><p>make_EHelper(operand_size);</p><p> 操作数前缀，转为 16 位操作数</p></li><li><p>static make_EHelper(2byte_esc);</p><p> 双字节指令前缀</p></li></ol><blockquote><p>杂项</p></blockquote><ol><li><p>make_group(name, …);</p><p> group 类型，需要进一步解析 ModRM 的 reg/opcode 字节 来确定真正的指令</p></li><li><p>make_EHelper(real);</p><p> 读取操作码，操作码写入 decoding.opcode，操作数宽度写入 src(dest, src1).width，然后执行 opcode_table 中的 译码函数 和 解码函数</p></li><li><p>IDEXW(id, ex, w);</p><p> 将要用到的，译码函数 decode_id， 执行函数 exec_ex，操作数宽度 w</p></li><li><p>idex(vaddr_t <em> eip, opcode_entry </em> e);</p><p> 解码（instr decode）和执行（execute）</p></li></ol><hr><hr><hr><hr><hr><hr><hr><hr><p>i386 手册: <a href="http://www.logix.cz/michal/doc/i386/" target="_blank" rel="external">地址</a></p><p>参考手册: <a href="http://www.fermimn.gov.it/linux/quarta/x86/index.htm" target="_blank" rel="external">地址</a></p><p>推荐通过附录A中的 opcode_map 和 opcode_table 了解指令</p>]]></content>
    
    <summary type="html">
    
      介绍 PA 中一些好用的接口函数
    
    </summary>
    
      <category term="PAs" scheme="https://blog.nightmare.xin/categories/PAs/"/>
    
    
      <category term="PAs" scheme="https://blog.nightmare.xin/tags/PAs/"/>
    
  </entry>
  
  <entry>
    <title>ASP.NET 课程设计报告</title>
    <link href="https://blog.nightmare.xin/asp.html"/>
    <id>https://blog.nightmare.xin/asp.html</id>
    <published>2017-12-17T09:58:18.000Z</published>
    <updated>2018-03-18T11:38:58.921Z</updated>
    
    <content type="html"><![CDATA[<ul><li>网站地址 <a href="http://nightmare.xin/" target="_blank" rel="external">nightmare.xin</a></li><li><p>支持注册和登录功能， 有后台数据库， 登陆成功会跳转。</p></li><li><p>前端UI 秦瑞哲</p></li><li>后端处理 程斌</li><li>2017/12/11</li></ul><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>本次课程要求设计一个网站，这就涉及到编程语言和框架的选取问题，之前只是粗略的学了一些 bootstrap，甚至连 jQuery 都没怎么用过，短时间内应该做不出什么太大的进展，索性专注于后端的设计。学过一点 php 和 python，但都是一些简单的 php 页面，在 thinkphp 和 flask 之间最终选择了 flask (<del>听说要比 Django 轻量级很多</del>)</p><h2 id="python-flask-apache-mysql"><a href="#python-flask-apache-mysql" class="headerlink" title="python + flask + apache + mysql"></a>python + flask + apache + mysql</h2><p>静态网站比如 hexo 是没有后台的，不具备处理请求的能力，而我也不打算使用这些一键建站(lamp甚至wordpress之类)的框架。因此需要自己设计一些接口供前端调用。下面是服务器的一些配置：主机(ubuntu 16.04 LTS)，web 服务器(apache 2.4)，数据库(mysql 5.7)，编程语言选择 python 和它的 web 框架 flask。</p><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>首先是 apache 的配置，apache 负责接收和处理请求。<br><figure class="highlight apache"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="section">&lt;VirtualHost *:80&gt;</span></div><div class="line">        <span class="attribute"><span class="nomarkup">ServerName</span></span> nightmare.xin</div><div class="line">        <span class="attribute">WSGIScriptAlias</span> / /var/www/web/flaskapp.wsgi</div><div class="line">        <span class="section">&lt;Directory /var/www/web/app/&gt;</span></div><div class="line">            <span class="attribute"><span class="nomarkup">Order</span></span> allow,deny</div><div class="line">            <span class="attribute"><span class="nomarkup">Allow</span></span> from <span class="literal">all</span></div><div class="line">        <span class="section">&lt;/Directory&gt;</span></div><div class="line">        <span class="attribute">Alias</span> /static /var/www/web/app/static</div><div class="line">        <span class="section">&lt;Directory /var/www/web/app/static/&gt;</span></div><div class="line">            <span class="attribute"><span class="nomarkup">Order</span></span> allow,deny</div><div class="line">            <span class="attribute"><span class="nomarkup">Allow</span></span> from <span class="literal">all</span></div><div class="line">        <span class="section">&lt;/Directory&gt;</span></div><div class="line">        <span class="attribute">ErrorLog</span> <span class="variable">$&#123;APACHE_LOG_DIR&#125;</span>/error.log</div><div class="line">        <span class="attribute">LogLevel</span> warn</div><div class="line">        <span class="attribute">CustomLog</span> <span class="variable">$&#123;APACHE_LOG_DIR&#125;</span>/access.log combined</div><div class="line"><span class="section">&lt;/VirtualHost&gt;</span></div></pre></td></tr></table></figure></p><p>apache 接收请求后转发给 wsgi 处理，由 wsgi 传给应用程序，wsgi 是一套 apache, flask 都支持的标准，因此用作 web 服务器和应用程序之间的接口来简化后端设计。(首先载入 wsgi 模块，wsgi 的配置则基本不需要更改)(静态文件目录和错误/访问日志目录很重要)</p><p>该接口定义为如下 flaskapp.wsgi<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line">sys.path.insert(<span class="number">0</span>, <span class="string">"/var/www/web"</span>)</div><div class="line"><span class="keyword">from</span> app <span class="keyword">import</span> app</div><div class="line">application = app</div></pre></td></tr></table></figure></p><p>除了将网站根目录加入 path，该接口将 apache 请求处理转发到 app 对象(app 可以理解为一个 flask 应用程序对象)</p><p>该配置在 app/<strong>init</strong>.py 文件中，定义了如何处理请求的具体方法(建立路由表并编写处理代码)<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">from</span> flask <span class="keyword">import</span> Flask, request, render_template, abort, redirect, url_for, send_from_directory</div><div class="line"><span class="comment">#from flask_bootstrap import Bootstrap</span></div><div class="line"><span class="comment">#from flask_moment import Moment</span></div><div class="line"><span class="comment">#from datetime import datetime</span></div><div class="line"><span class="keyword">from</span> flask_sqlalchemy <span class="keyword">import</span> SQLAlchemy</div><div class="line"><span class="keyword">from</span> models <span class="keyword">import</span> User</div><div class="line"></div><div class="line">app = Flask(__name__)</div><div class="line"><span class="comment">#bootstrap = Bootstrap(app)</span></div><div class="line"><span class="comment">#moment = Moment(app)</span></div><div class="line">app.config[<span class="string">'SQLALCHEMY_DATABASE_URI'</span>] = <span class="string">'mysql://web_python:web_python@localhost/web_python'</span></div><div class="line">app.config[<span class="string">'SQLALCHEMY_TRACK_MODIFICATIONS'</span>] = <span class="keyword">True</span></div><div class="line">db = SQLAlchemy(app)</div><div class="line">db.create_all()</div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">@app.route('/', methods=['GET'])</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">index</span><span class="params">()</span>:</span></div><div class="line">    <span class="keyword">return</span> app.send_static_file(<span class="string">'Login/index.html'</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">@app.route('/signin', methods=['POST'])</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">signin</span><span class="params">()</span>:</span></div><div class="line">    username = request.form[<span class="string">'username'</span>]</div><div class="line">    password = request.form[<span class="string">'password'</span>]</div><div class="line">    <span class="keyword">if</span> User.query.filter_by(username=username, password=password).first() != <span class="keyword">None</span>:</div><div class="line">        <span class="keyword">return</span> app.send_static_file(<span class="string">'Backstage/tables.html'</span>)</div><div class="line">    <span class="keyword">else</span>:</div><div class="line">        <span class="keyword">return</span> app.send_static_file(<span class="string">'Login/index.html'</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">@app.route('/signup', methods=['POST'])</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">signup</span><span class="params">()</span>:</span></div><div class="line">    username = request.form[<span class="string">'username'</span>]</div><div class="line">    password = request.form[<span class="string">'password'</span>]</div><div class="line">    email = request.form[<span class="string">'email'</span>]</div><div class="line"></div><div class="line">    u = User(username=username, password=password, email=email)</div><div class="line">    db.session.add(u)</div><div class="line">    db.session.commit()</div><div class="line">    <span class="keyword">return</span> app.send_static_file(<span class="string">'Login/index.html'</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="meta">@app.errorhandler(404)</span></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">page_not_found</span><span class="params">(e)</span>:</span></div><div class="line">    <span class="keyword">return</span> render_template(<span class="string">'404.html'</span>)</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    app.run(debug=<span class="keyword">True</span>)</div></pre></td></tr></table></figure></p><p>其中用到了 Mysql 数据库，这里新建一个 web_python 的数据库，并新建一个名为 web_python 的用户，密码设置为 web_python，权限设置为允许任意ip登录，但只授权操作 web_python 数据库。</p><p><img src="http://store.nightmare.xin/37693cfc748049e45d87b8c7d8b9aacd.png" alt=""></p><p>sqlalchemy 模块提供了非常简便的方法使 flask 程序 mysql 交互<br><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">app = Flask(__name__)</div><div class="line">db = SQLAlchemy(app)</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">User</span><span class="params">(db.Model)</span>:</span></div><div class="line">    __tablename__ = <span class="string">'users'</span></div><div class="line">    id = db.Column(db.Integer, primary_key=<span class="keyword">True</span>)</div><div class="line">    username = db.Column(db.String(<span class="number">80</span>), unique=<span class="keyword">True</span>)</div><div class="line">    password = db.Column(db.String(<span class="number">80</span>), unique=<span class="keyword">True</span>)</div><div class="line">    email = db.Column(db.String(<span class="number">80</span>), unique=<span class="keyword">True</span>)</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, username, password,  email)</span>:</span></div><div class="line">        self.username = username</div><div class="line">        self.password = password</div><div class="line">        self.email = email</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span><span class="params">(self)</span>:</span></div><div class="line">        <span class="keyword">return</span> <span class="string">'&lt;User %r&gt;'</span> % self.username</div></pre></td></tr></table></figure></p><p>以上代码将 python 类对象抽象为一个数据库，该类的变量作为字段名。</p><p>对数据库的操作被封装为以下函数<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">db.create_all() 创建数据库和初始化</div><div class="line">db<span class="selector-class">.session</span><span class="selector-class">.add</span>() 添加一条记录</div><div class="line">db<span class="selector-class">.session</span><span class="selector-class">.update</span>() 更新</div><div class="line">db<span class="selector-class">.session</span><span class="selector-class">.delete</span>() 删除</div><div class="line">db<span class="selector-class">.session</span><span class="selector-class">.commit</span>() 将修改提交到远程数据库</div><div class="line">... ...</div></pre></td></tr></table></figure></p><h2 id="一些问题"><a href="#一些问题" class="headerlink" title="一些问题"></a>一些问题</h2><p>中途服务器出现过几次问题，比如网页请求502呀，资源请求404呀，apache无法启动呀，无法定向到指定的url呀。 通过google和stackoverflow解决了，一个惨痛的教训是，一定记得看错误日志(在/var/log/下相应子目录)…</p><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>对 web 知识了解又加深了一些</p>]]></content>
    
    <summary type="html">
    
      python + flask + apache + mysql 后台处理请求
    
    </summary>
    
      <category term="demo" scheme="https://blog.nightmare.xin/categories/demo/"/>
    
    
      <category term="demo" scheme="https://blog.nightmare.xin/tags/demo/"/>
    
  </entry>
  
  <entry>
    <title>Makefile 学习小记</title>
    <link href="https://blog.nightmare.xin/makefile.html"/>
    <id>https://blog.nightmare.xin/makefile.html</id>
    <published>2017-11-16T03:51:00.000Z</published>
    <updated>2018-03-18T12:59:26.342Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h1><p>参考文章：</p><ul><li><a href="https://seisman.github.io/how-to-write-makefile/overview.html" target="_blank" rel="external">跟我一起写 Makefile</a></li><li><a href="https://github.com/oxnz/clang-user-manual/wiki/Clang-%E4%B8%AD%E6%96%87%E7%94%A8%E6%88%B7%E6%89%8B%E5%86%8C" target="_blank" rel="external">Clang 中文用户手册</a></li><li><a href="http://blog.sina.com.cn/s/blog_4de067e40102ds7d.html" target="_blank" rel="external">编译器 cc、gcc、g++、CC 的区别</a></li><li><a href="https://www.zhihu.com/question/39952667" target="_blank" rel="external">MinGW、MinGW-w64 与TDM-GCC 应该如何选择？</a></li><li><a href="http://blog.csdn.net/vlily/article/details/7247888" target="_blank" rel="external">C++ 函数系列篇：函数的默认值+带默认参数的函数</a></li><li><a href="http://www.cnblogs.com/lidan/archive/2011/05/25/2239517.html" target="_blank" rel="external">g++ 参数介绍</a></li><li><a href="https://tonghuix.io/2012/04/cc%E7%9A%84%E9%80%9A%E7%94%A8makefile%E6%A8%A1%E6%9D%BF/" target="_blank" rel="external">C/C++ 的通用Makefile模板</a></li><li><a href="https://sourceforge.net/projects/gcmakefile/" target="_blank" rel="external">Generic Makefile for C/C++ Programs</a></li></ul><h1 id="0x01"><a href="#0x01" class="headerlink" title="0x01"></a>0x01</h1><p>TODO list：</p><ul><li><del>自动从源文件寻找依赖</del></li><li><del>批量处理多个程序</del></li><li><del>一键清理</del></li><li>more…</li></ul><h1 id="0x02"><a href="#0x02" class="headerlink" title="0x02"></a>0x02</h1><p>下边是我实现的 makefile 模板。</p><p><a href="https://github.com/kur0mi/tools/blob/master/makefile/make.py" target="_blank" rel="external">Makefile 模板 v1.0</a></p>]]></content>
    
    <summary type="html">
    
      Makefile 关系到了整个工程的编译规则。一个工程中的源文件不计其数，并且按类型、功能、模块分别放在若干个目录中，makefile 定义了一系列的规则来指定，哪些文件需要先编译，哪些文件需要后编译，哪些文件需要重新编译，甚至于进行更复杂的功能操作，因为makefile就像一个Shell脚本一样，其中也可以执行操作系统的命令。
    
    </summary>
    
      <category term="Demo" scheme="https://blog.nightmare.xin/categories/Demo/"/>
    
    
      <category term="Demo" scheme="https://blog.nightmare.xin/tags/Demo/"/>
    
  </entry>
  
  <entry>
    <title>南航计算机学院第六期科创</title>
    <link href="https://blog.nightmare.xin/rainbow.html"/>
    <id>https://blog.nightmare.xin/rainbow.html</id>
    <published>2017-11-09T10:40:25.000Z</published>
    <updated>2018-03-18T13:04:15.698Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x00"><a href="#0x00" class="headerlink" title="0x00"></a>0x00</h1><p>em… 科创成功结题了，总要写点什么</p><p>差不多是去年9,10月左右吧，那时候组队接下了这个题目，“基于sha256算法及并行编程语言的快速密码破解方法研究与实现”。 然后就开始填项目申报书，开题报告啥的，查各种资料，差不多今年一月左右审核结束，审核完了就正式开始了。 今年6月份有一次中期检查(也是我第一次上台答辩233)，那次比较水，去参加答辩的队伍都让通过了。 然后今年10月结题形式改成了成果展示，有学弟学妹学长学姐评委老师来围观。 然后今天下午结果公示，科创通过了…</p><h1 id="0x01"><a href="#0x01" class="headerlink" title="0x01"></a>0x01</h1><p>那么，我们做的这个项目是个啥呢？</p><p>网络传输中密码如果用明文传输，或者数据库中密码用明文保存，那么只要能够获取到这部分数据就可以轻而易举的拿到密码。 这时采取的一种策略是进行hash加密，简单理解就是一种理论上不可逆的加密(无法从密文计算出明文)。 或者一些软件或文件被恶意修改之后放在网上，不经意下载安装就存在安全问题。 这时可以对软件/文件进行hash校验和，根据hash值是否相等来判断软件/文件是否被修改过。</p><p>而我们的项目就是破解hash算法家族的其中一种(sha256)(怎么越解释越像在做坏事…)</p><h1 id="0x02"><a href="#0x02" class="headerlink" title="0x02"></a>0x02</h1><p>破解过程类似暴力破解，借鉴一种时空折中算法(权衡时间和空间使其理论可行)，预先生成一张彩虹表，破解时进行查表获取明文。</p><p>彩虹表长什么样？</p><p>一条彩虹表有许多条彩虹链组成，一条彩虹链上有许多结点，一个结点对应一个明文/密文。 由于彩虹表数据量十分庞大(反正你买不起那么大的硬盘)，最后只选择存储每条链的第一个结点和最后一个结点(一般一个结点占8个字节(64bit))，需要时不是直接查表，而是先取出这些彩虹链将其展开，即用时间换取空间。</p><h1 id="0x03"><a href="#0x03" class="headerlink" title="0x03"></a>0x03</h1><p>说说科创中遇到的一些麻烦事吧。</p><p>科创申报的时候才大一，开始做的时候也才大一下，那时候要安装vs，还要安装cuda/opencl，安装过程磕磕碰碰，vs操作也不懂，各种error，查找路径，动/静态链接，硬件，cpu，gpu，指令，内存，线程，进程，并行，冲突，碰撞，锁，线程交互什么的一点概念都没有，这个项目要做什么怎么做也啥都不知道，当时还不会谷歌，百度搜来搜去就那点基础的东西。 很烦就是了，不过回忆起来，很多概念也是那时候开始建立的，也算是”不是那么糟糕的事情”了。</p><h1 id="0x04"><a href="#0x04" class="headerlink" title="0x04"></a>0x04</h1><p>那时候就记得是要做并行，整个项目主要就是要提升计算速度，通过大规模并行来提升速度。 再进行优化什么的进一步提高。</p><p>并行就是多个指令一起运行，那JAVA不是就有多线程么，C语言也有多线程，想要的话fork一个就可以了。 这些多线程实质上仍是由一个CPU驱动的，其”并行”只是CPU对多个线程的切换。 就算它们可以驱动多核CPU或GPU进行真正的并行，，，，，效果也绝对没有我们那么好。</p><p>CUDA/OPENCL是什么呢？</p><p>首先，由很多硬件厂商共同制定了一个标准(参照ASCII)，大家都遵循这个标准，然后不同的厂商设计的硬件(cpu/gpu)就会支持这个标准，也会有不同的拓展。 CUDA/OPENCL就是提供了一套接口(参照shell)，使我们可以用高级语言直接去操纵底层CPU/GPU，即操控硬件实现真正的并行，根据CPU/GPU的结构和各个参数，辅以不断地测试，进行各种优化，达到最大化利用计算资源的目的(都这样了速度能不快吗)</p><h1 id="0x05"><a href="#0x05" class="headerlink" title="0x05"></a>0x05</h1><p>于是当时懵逼的我们，用着懵逼的vs，使用懵逼的CUDA/OPENCL语言，去写一些什么都不懂的东西(年少不懂事)…</p><p>现在回想起来还是很感叹，计算机世界就像宇宙无穷无尽，那时候的我就像是硬生生的挖开了一个洞，洞越来越大，也就越会发现自己的不足。 <a href="http://www.freebuf.com/articles/others-articles/68711.html" target="_blank" rel="external">推荐阅读: 程序员学习之路</a></p><h1 id="0x06"><a href="#0x06" class="headerlink" title="0x06"></a>0x06</h1><p>这篇文章全是我自己写的，写完还是很满意的(骄傲.jpg)… 就把它归到新分类[Chain]里边吧。</p><p>ps: 我感冒应该是好了的，然而今天测了1000米跑，跑完又感冒了，就不该脱衣服…</p>]]></content>
    
    <summary type="html">
    
      结题了, .. .. .. yeah
    
    </summary>
    
      <category term="Chain" scheme="https://blog.nightmare.xin/categories/Chain/"/>
    
    
      <category term="科创" scheme="https://blog.nightmare.xin/tags/%E7%A7%91%E5%88%9B/"/>
    
  </entry>
  
  <entry>
    <title>今天的云很好看啊</title>
    <link href="https://blog.nightmare.xin/cloud.html"/>
    <id>https://blog.nightmare.xin/cloud.html</id>
    <published>2017-11-06T14:11:43.000Z</published>
    <updated>2018-03-18T12:54:21.625Z</updated>
    
    <content type="html"><![CDATA[<h1 id="0x01"><a href="#0x01" class="headerlink" title="0x01"></a>0x01</h1><p>em.. 感冒已经很轻了，应该是要好了，终于可以免受这种痛苦了，算是这段时间的一个好消息。 再休息几天吧，暂停了一周的跑步计划也该重新开始了(又想到1000米跑逐步临近，有点迫不及待的想检测一下这段时间的成果呢)。 话说，我为什么总会感冒呢..</p><h1 id="0x02"><a href="#0x02" class="headerlink" title="0x02"></a>0x02</h1><p>近期的CTF比赛有上海的比赛和浙警的比赛，上海的网安大赛太难了，勉强做了一道100分的sql注入就跑路了，学长们很厉害，用我们的账号打到前几名。</p><p>浙警的比赛今天刚刚开始，分三周三次小比赛，听学长说题目对萌新比较友好，怀着激动的心情去玩了玩，几分郁闷，几分开心。</p><p><img src="http://store.nightmare.xin/0593ceb4c528a20a4daf1f70f0c70ebf.png" alt=""></p><p>就我自己的感觉吧，没有特别水的题，题目难度基本分为<strong>突然就做出来了</strong>和<strong>做到死也做不出来</strong>两种。</p><p>应该是很多大表哥对这种小比赛不感兴趣，侥幸混个no.10。</p><p><img src="http://store.nightmare.xin/28b1895a15ed5e7d4e8fc83bbfb15495.png" alt=""></p><h1 id="0x03"><a href="#0x03" class="headerlink" title="0x03"></a>0x03</h1><p>数据结构讲到了tree(树)了，今天认真听了一下，感觉老师讲的还是很好的，讲的很详细听的也有意思，以前为什么不想听呢，其实以前内心是有点反感的，大部分人都没有什么编程能力就去讲数据结构算法什么的，数据结构是算法的基础，算法是程序的灵魂嘛，但是这些要建立在代码熟练的基础上，嗯em.. 反感的最初来源应该是编程速成班，快速培训或校园招聘什么的，不理解那些人的心态，完全就是抱着”试试看，或许我成功了呢”，或者”我周围人都那么做，我那么做也没什么嘛”的心态？ 一边渴望得到认可，一边又沉醉在”周围人都和我一样”的心态中，或许是我性格比较孤僻的原因么</p><h1 id="0x04"><a href="#0x04" class="headerlink" title="0x04"></a>0x04</h1><p>谈到性格改变什么的，在大二认识的伙伴们可能会觉得我平时在一起时不太爱讲话，其实比起大一已经好多了，大一认识的伙伴们应该有体会，一年我还是学到了些什么有很大改变的，提到了大一就不得不提起高中和初中了，初中被欺负，高中没住校，六年与人交流可以说是非常少之又少了… 刚进大学也只想混日子混过去的，至于为什么突然转变，这就不得不说提起我的大姐姐了，由于在博客中又是不太好提的就不提了… (想知道的直接问我嘛，又不是不能说(骄傲.jpg))</p><h1 id="0x05"><a href="#0x05" class="headerlink" title="0x05"></a>0x05</h1><p>嘛，现在社会还是太浮躁了</p><h1 id="0x06"><a href="#0x06" class="headerlink" title="0x06"></a>0x06</h1><p>我的小窝还是装的很不错了，改天再买个放东西的架子什么的，对了，我的二次元枕套也要买</p><h1 id="0x07"><a href="#0x07" class="headerlink" title="0x07"></a>0x07</h1><p>哇，再写点什么呢</p><h1 id="0x08"><a href="#0x08" class="headerlink" title="0x08"></a>0x08</h1><p>人生有很多选择，有些很重要，但更重要的是选择之后坚持走下去。</p><h1 id="0x09"><a href="#0x09" class="headerlink" title="0x09"></a>0x09</h1><p>其实我特别想知道都有谁看过我的博客，想写个签到评论什么的功能，但是，本菜鸡懒啊…</p><h1 id="0x0a"><a href="#0x0a" class="headerlink" title="0x0a"></a>0x0a</h1><p>乒乓球握拍姿势感觉越来越奇怪，很别扭，难受</p><p>上次打赢了了一个小姐姐还不服气(哼~)</p><h1 id="0x0b"><a href="#0x0b" class="headerlink" title="0x0b"></a>0x0b</h1><p>到这里结束了，马上宿舍断电</p>]]></content>
    
    <summary type="html">
    
      随便记点什么吧，想到哪写到哪233
    
    </summary>
    
      <category term="Life" scheme="https://blog.nightmare.xin/categories/Life/"/>
    
    
      <category term="coffee" scheme="https://blog.nightmare.xin/tags/coffee/"/>
    
  </entry>
  
  <entry>
    <title>Kurumi</title>
    <link href="https://blog.nightmare.xin/kurumi.html"/>
    <id>https://blog.nightmare.xin/kurumi.html</id>
    <published>2017-11-03T13:59:13.000Z</published>
    <updated>2018-03-18T12:57:48.134Z</updated>
    
    <content type="html"><![CDATA[<p>大家好，给大家介绍一下，<strong>Tokisaki Kurumi</strong> (时崎狂三)，精灵识别名为 <strong>nightmare</strong> (梦魇)，出自作品 <strong>date a live</strong>，这是一个充满矛盾的角色，优雅而疯狂，理解而理智，善良而妩媚，坚强而孤独，神秘而悲伤</p><p><img src="http://store.nightmare.xin/6364d3f0f495b6ab9dcf8d3b5c6e0b01.jpg" alt=""></p><p>作为卡巴拉生命之树中的第3质点Binah(译作理解)。数字是3、颜色是黑色、宝石是珍珠、金属是铅、惑星以土星为象征。被称为至高的母、象征女性原理。代表成熟的女性。神名是Elohim。守护天使是Zaphkiel。</p><p><img src="http://store.nightmare.xin/109a859d777f350ee27e322df2738ec5.png" alt=""></p><p>下面是不知道谁写的诗，文采飞扬的感觉..</p><h1 id=""><a href="#" class="headerlink" title="========================="></a>=========================</h1><p>时钟之眼，崎岖之路，狂我之心，三噩之梦。</p><p>时无诳语，崎如逝行，狂而柔软，三逆轮回。</p><p>时光倒流，崎路尽头，狂而病娇，三推不倒。</p><p>时如流水，崎如清沙，狂岭飞虹，三峻樽花。</p><p>时光停转，崎路何安，狂梦唯叹，三生有伴。</p><p>时逝云烟散，崎路夜雨寒，狂风烛影乱，三尺流年<br>叹。</p><p>时夜魇梦舞，崎路魂断河，狂风追留逝，三情思暮道。</p><p>时湮轮回换，崎岖流年染，狂风卷衣衫，三笑颜不变。</p><p>时光之沉淀，崎途之惘然，狂乱的青春，三世的轮回。</p><p>时桥偶乐遇，崎转遗石板，狂思难忘美，三遇还素琴。</p><p>时如流觞曲水，崎如镜花水月，狂歌晓风残月，三觅千里千寻。</p><p>时光荏苒逝如斯，崎岖之路夜寒蝉，狂心不泯终有时，三千弱水渡未迟。</p><p>时幕天钟转轮回，崎曲泪离血染飞。狂焉病笑笑尘罪，三生只为一人归。</p>]]></content>
    
    <summary type="html">
    
      游荡于黑暗与光明之间， 亦正亦邪的精灵
    
    </summary>
    
      <category term="无悔二次元" scheme="https://blog.nightmare.xin/categories/%E6%97%A0%E6%82%94%E4%BA%8C%E6%AC%A1%E5%85%83/"/>
    
    
      <category term="二次元" scheme="https://blog.nightmare.xin/tags/%E4%BA%8C%E6%AC%A1%E5%85%83/"/>
    
  </entry>
  
  <entry>
    <title>KMP算法 学习小记</title>
    <link href="https://blog.nightmare.xin/kmp.html"/>
    <id>https://blog.nightmare.xin/kmp.html</id>
    <published>2017-11-02T03:35:58.000Z</published>
    <updated>2018-03-18T06:58:19.477Z</updated>
    
    <content type="html"><![CDATA[<h1 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h1><p>参考文章<a href="http://www.ruanyifeng.com/blog/2013/05/Knuth%E2%80%93Morris%E2%80%93Pratt_algorithm.html" target="_blank" rel="external">字符串匹配的KMP算法</a></p><h2 id="简易的匹配算法"><a href="#简易的匹配算法" class="headerlink" title="简易的匹配算法"></a>简易的匹配算法</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">对于字符串匹配，一种显而易见的想法是</div><div class="line">[<span class="symbol">B</span>]<span class="symbol">ABABCABCD</span></div><div class="line">[<span class="symbol">A</span>]<span class="symbol">BC</span></div><div class="line"></div><div class="line"><span class="symbol">B</span>[<span class="symbol">A</span>]<span class="symbol">BABCABCD</span></div><div class="line"> [<span class="symbol">A</span>]<span class="symbol">BC</span></div><div class="line"></div><div class="line">开始尝试匹配下一位</div><div class="line"><span class="symbol">BA</span>[<span class="symbol">B</span>]<span class="symbol">ABCABCD</span></div><div class="line"> <span class="symbol">A</span>[<span class="symbol">B</span>]<span class="symbol">C</span></div><div class="line"></div><div class="line"><span class="symbol">BAB</span>[<span class="symbol">A</span>]<span class="symbol">BCABCD</span></div><div class="line"> <span class="symbol">AB</span>[<span class="symbol">C</span>]</div><div class="line"></div><div class="line">当检测到<span class="symbol">A</span>,<span class="symbol">C</span>不匹配</div><div class="line">则退回到主串匹配开始的下一位重新匹配</div><div class="line"><span class="symbol">BA</span>[<span class="symbol">B</span>]<span class="symbol">ABCABCD</span></div><div class="line">  [<span class="symbol">A</span>]<span class="symbol">BC</span></div><div class="line"></div><div class="line">这一过程称为<span class="string">'回溯'</span></div><div class="line">显然因为大量的回溯使得在最坏情况下时间复杂度达到了<span class="symbol">O</span>(n*m)</div></pre></td></tr></table></figure><h2 id="KMP算法"><a href="#KMP算法" class="headerlink" title="KMP算法"></a>KMP算法</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">对于形如下的匹配</div><div class="line"><span class="symbol">BBC</span> <span class="symbol">ABCDAB</span>[ ]<span class="symbol">ABCDABCDABDE</span></div><div class="line">    <span class="symbol">ABCDAB</span>[<span class="symbol">D</span>]</div><div class="line"></div><div class="line">基于一种事实，即我们已经知道已经成功匹配的部分是 <span class="symbol">ABCDAB</span>，那么在</div><div class="line"><span class="symbol">BBC</span> <span class="symbol">ABCDAB</span>[ ]<span class="symbol">ABCDABCDABDE</span></div><div class="line">        <span class="symbol">AB</span>[<span class="symbol">C</span>]<span class="symbol">DABD</span></div><div class="line"></div><div class="line">之前的部分都是冗余的，<span class="symbol">KMP</span>算法通过对子串的特殊处理直接跳转到这一步，避免了回溯。</div><div class="line">构建一张表如下</div><div class="line"><span class="symbol">ABCDABD</span></div><div class="line"><span class="number">0000120</span></div><div class="line"></div><div class="line">其中<span class="symbol">A</span>=<span class="number">1</span>代表若字符<span class="string">'A'</span>已经匹配，则新的匹配可以从子串中序号为<span class="number">1</span>的字符<span class="string">'B'</span>(从<span class="number">0</span>开始计数)重新开始。</div><div class="line"><span class="symbol">B</span>=<span class="number">2</span>则表示由于<span class="string">'AB'</span>已经匹配，子串开头的<span class="string">'AB'</span>就不用再额外匹配了，即从<span class="string">'C'</span>开始匹配。</div><div class="line"></div><div class="line">对于这张表的使用解读如下</div><div class="line">当匹配到</div><div class="line"><span class="symbol">BBC</span> <span class="symbol">ABCDAB</span>[ ]<span class="symbol">ABCDABCDABDE</span></div><div class="line">    <span class="symbol">ABCDAB</span>[<span class="symbol">D</span>]</div><div class="line"></div><div class="line">因为前一个字符<span class="symbol">B</span>=<span class="number">2</span>，则可以直接跳转到</div><div class="line"><span class="symbol">BBC</span> <span class="symbol">ABCDAB</span>[ ]<span class="symbol">ABCDABCDABDE</span></div><div class="line">        <span class="symbol">AB</span>[<span class="symbol">C</span>]<span class="symbol">DABD</span></div></pre></td></tr></table></figure><h2 id="‘表’的计算"><a href="#‘表’的计算" class="headerlink" title="‘表’的计算"></a>‘表’的计算</h2><figure class="highlight prolog"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">以<span class="string">'ABCD[A]BD'</span>中的<span class="string">'A'</span>为例</div><div class="line"></div><div class="line">取出<span class="string">'ABCDA'</span></div><div class="line">计算前缀字符串[<span class="string">'A'</span>, <span class="string">'AB'</span>, <span class="string">'ABC'</span>, <span class="string">'ABCD'</span>]</div><div class="line">计算后缀字符串[<span class="string">'BCDA'</span>, <span class="string">'CDA'</span>, <span class="string">'DA'</span>, <span class="string">'A'</span>]</div><div class="line">找出其中相同的字符串<span class="string">'A'</span></div><div class="line">该字符串的长度为<span class="number">1</span></div><div class="line">若结果有多个，取长度最大的</div></pre></td></tr></table></figure><h2 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h2><p>不想慢慢造轮子，就用python写了，能体现算法就好Orz</p><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line">s = <span class="string">'BBC ABCDAB ABCDABCDABDE'</span></div><div class="line">t = <span class="string">'ABCDABD'</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">GetPat</span><span class="params">(s)</span>:</span></div><div class="line">    r1 = [s[:i+<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)<span class="number">-1</span>)]</div><div class="line">    r2 = [s[i+<span class="number">1</span>:] <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s)<span class="number">-1</span>)]</div><div class="line">    <span class="keyword">return</span> max([len(x) <span class="keyword">for</span> x <span class="keyword">in</span> r1 <span class="keyword">if</span> x <span class="keyword">in</span> r2] + [<span class="number">0</span>])</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">GetAllPat</span><span class="params">(s)</span>:</span></div><div class="line">    <span class="keyword">return</span> [GetPat(s[:i+<span class="number">1</span>]) <span class="keyword">for</span> i <span class="keyword">in</span> range(len(s))]</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span><span class="params">(s, t)</span>:</span></div><div class="line">    pat = GetAllPat(t)</div><div class="line">    <span class="comment">#print pat</span></div><div class="line">    i = <span class="number">0</span></div><div class="line">    j = <span class="number">0</span></div><div class="line">    <span class="keyword">while</span> i &lt; len(s):</div><div class="line">        <span class="keyword">while</span> i &lt; len(s) <span class="keyword">and</span> j &lt; len(t):</div><div class="line">            <span class="keyword">if</span> s[i] == t[j]:</div><div class="line">                i += <span class="number">1</span></div><div class="line">                j += <span class="number">1</span></div><div class="line">                <span class="keyword">print</span> i, j</div><div class="line">            <span class="keyword">elif</span> j == <span class="number">0</span>:</div><div class="line">                i += <span class="number">1</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                j = pat[j<span class="number">-1</span>]</div><div class="line"></div><div class="line">        <span class="keyword">if</span> i == len(s):</div><div class="line">            <span class="keyword">print</span> <span class="string">'traverse end.'</span></div><div class="line">            <span class="keyword">break</span></div><div class="line">        <span class="keyword">else</span>:</div><div class="line">            j = <span class="number">0</span></div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</div><div class="line">    main(s, t)</div></pre></td></tr></table></figure><h2 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h2><p>ps: 感冒貌似快好了(一感冒真的除了躺着什么都不想做…)</p>]]></content>
    
    <summary type="html">
    
      KMP是一种字符串匹配算法，通过对模式字符串的处理，可以达到O(n+m)的时间复杂度
    
    </summary>
    
      <category term="Demo" scheme="https://blog.nightmare.xin/categories/Demo/"/>
    
    
      <category term="算法" scheme="https://blog.nightmare.xin/tags/%E7%AE%97%E6%B3%95/"/>
    
  </entry>
  
  <entry>
    <title>pyqt 学习小记(一)</title>
    <link href="https://blog.nightmare.xin/pyqt.html"/>
    <id>https://blog.nightmare.xin/pyqt.html</id>
    <published>2017-10-31T12:46:06.000Z</published>
    <updated>2018-03-18T13:03:50.481Z</updated>
    
    <content type="html"><![CDATA[<h1 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h1><p>首先google找教程</p><p>参考<a href="http://pyqt.sourceforge.net/Docs/PyQt5/" target="_blank" rel="external">sourceforge上的一个英文文档</a>和<a href="http://code.py40.com/pyqt5/" target="_blank" rel="external">中文教程</a></p><p>使用pip安装<br><figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">python</span> -m pip install <span class="keyword">python</span>-qt5</div></pre></td></tr></table></figure></p><p>ps: 因为我的pip出了一些问题所以前边加python -m</p><p>尝试后发现下载速度太慢而且网络连接会中断，然后去官网找压缩包，结果在官网下载到一个奇怪的包… 不懂这是啥</p><p>顿时觉得pyqt的安装不是那么顺利了，翻到一篇文章<a href="https://zhuanlan.zhihu.com/p/25561911" target="_blank" rel="external">python2+pyqt5安装</a>，里边讲到自己下载源文件自己编译，这么复杂，可能是pyqt5太新了，试试其他的，比如pyqt4。</p><p>然后是运行</p><figure class="highlight mel"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">python</span> -m pip install <span class="keyword">python</span>-qt</div></pre></td></tr></table></figure><p>打开发现装错了模块。</p><p>接下来去sourceforge下载exe，<a href="https://sourceforge.net/projects/pyqt/?source=typ_redirect" target="_blank" rel="external">地址</a>，下载完安装时发现居然是python3.5的…</p><p>终于在一番艰辛后找到了<a href="https://sourceforge.net/projects/pyqt/files/PyQt4/PyQt-4.11.4/" target="_blank" rel="external">下载地址</a></p><p>一路next，修改为自己的python安装路径，一切OK。</p><h1 id="继续"><a href="#继续" class="headerlink" title="继续"></a>继续</h1><p>打开文件夹 <strong>F:\Runtime\Python\Python27\Lib\site-packages\PyQt4</strong> ，和自己的pyqt打声招呼吧。一堆看不懂的包和模块..</p><p>开始写一个小程序，参考<a href="http://www.qaulau.com/books/PyQt4_Tutorial/" target="_blank" rel="external">文章</a></p><h1 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h1><figure class="highlight awk"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">import sys</div><div class="line">from PyQt4 import QtGui</div><div class="line"></div><div class="line">app = QtGui.QApplication(sys.argv)</div><div class="line"></div><div class="line">widget = QtGui.QWidget()</div><div class="line">widget.resize(<span class="number">250</span>, <span class="number">150</span>)</div><div class="line">widget.setWindowTitle(<span class="string">'simple'</span>)</div><div class="line">widget.show()</div><div class="line"></div><div class="line">sys.<span class="keyword">exit</span>(app.exec_())</div></pre></td></tr></table></figure><p>成功显示一个窗口</p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>打算着每学习一个新知识点都写点demo什么的</p><p>感冒貌似又重了，明天英语还有presentation，有时间再做吧，(事情总是一推再推~)，无奈</p><p>ps: 寒流来袭，小心感冒…</p>]]></content>
    
    <summary type="html">
    
      day1 pyqt的安装. 这是一篇吐槽文
    
    </summary>
    
      <category term="Demo" scheme="https://blog.nightmare.xin/categories/Demo/"/>
    
    
      <category term="Demo" scheme="https://blog.nightmare.xin/tags/Demo/"/>
    
  </entry>
  
  <entry>
    <title>便捷的一键翻译功能</title>
    <link href="https://blog.nightmare.xin/translate.html"/>
    <id>https://blog.nightmare.xin/translate.html</id>
    <published>2017-10-29T09:19:49.000Z</published>
    <updated>2018-03-18T13:12:29.751Z</updated>
    
    <content type="html"><![CDATA[<h1 id="写在开头"><a href="#写在开头" class="headerlink" title="写在开头"></a>写在开头</h1><p>有时候英文阅读真的很烦，比如好不容易google了一篇很精彩的文章，当你看的兴起的时候，遇到一个生词，不管了跳过去吧，又遇到一个，于是老老实实的打开了谷歌翻译… 翻译完继续去阅读，灵感也差不多没了; 又或者是新安装了一款软件，官方文档是最好的入手教程，但教程一般都是英文的，大段大段的复制到谷歌翻译就会很烦而且显得很low; 就算是中文的博客，看到一个不懂的计算机词汇，有时候想把它查一下，但嫌麻烦，跳过去吧，这样就错过了积累的过程。 如果你遇到过上面的情况，那就继续读下去吧。</p><h1 id="进入正题"><a href="#进入正题" class="headerlink" title="进入正题"></a>进入正题</h1><p>本篇用到的工具/语言是ahk和python</p><h2 id="关于ahk"><a href="#关于ahk" class="headerlink" title="关于ahk"></a>关于ahk</h2><p>即AutoHotkey，是一种便捷的自定义热键语言。<a href="http://blog.csdn.net/foxbryant/article/details/7628392" target="_blank" rel="external">ahk简单命令列表</a></p><h2 id="关于python"><a href="#关于python" class="headerlink" title="关于python"></a>关于python</h2><p>python是一种编程语言，以简洁高效著称，<strong>life is short, use python</strong>.</p><p>处理google翻译的过程中遇到tk参数问题，参考了gayhub上的一个项目<a href="https://github.com/Dayunxi/googleTranslate" target="_blank" rel="external">googleTranslate</a></p><p>这里我主要做了一些小小的修改，由于将剪切板的文本作为参数传入，就遇到了空格和换行符问题</p><p>了解过命令行传参规则的应该知道 空格 将一行命令分割成不同的参数，在Python中传入的参数argv是一个列表形式，<strong>argv=[‘filename’, ‘arg_1’, ‘arg_2’, […]]</strong> 所以我采用 <strong>source = ‘ ‘.join(sys.argv[1:])</strong> 获取到想要转化的文本字符串。</p><p><del>而在命令行下，换行符后的内容会被处理成下一条命令，我暂时没有合适的办法来处理。</del> 已修复</p><h1 id="使用效果"><a href="#使用效果" class="headerlink" title="使用效果"></a>使用效果</h1><p>鼠标左键选中之后按下 ctrl+/</p><p><img src="http://store.nightmare.xin/58d78da94cbf52033f7b8871e3190b43.png" alt=""></p><p><del>但是如果包含换行符则会被截断233</del></p><p><img src="http://store.nightmare.xin/fd1dc10102b5423681cc0b9987500313.png" alt=""></p><p>2018-03-18 更新：以句号分割句子进行显示</p><p>现在的地址: <a href="https://github.com/kur0mi/tools/tree/master/google_translate" target="_blank" rel="external"> google 翻译工具</a></p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>ps: 最近天气转冷，夜跑有点痛苦orz</p>]]></content>
    
    <summary type="html">
    
      在计算机的学习中，英文阅读本来就是一大障碍，同时感觉对翻译工具的需求也越来越迫切，于是...
    
    </summary>
    
      <category term="Action" scheme="https://blog.nightmare.xin/categories/Action/"/>
    
    
      <category term="Demo" scheme="https://blog.nightmare.xin/tags/Demo/"/>
    
  </entry>
  
  <entry>
    <title>如何编写一个快捷的截图工具呢？</title>
    <link href="https://blog.nightmare.xin/test6.html"/>
    <id>https://blog.nightmare.xin/test6.html</id>
    <published>2017-10-24T13:26:35.000Z</published>
    <updated>2018-03-18T13:10:42.265Z</updated>
    
    <content type="html"><![CDATA[<h2 id="起因"><a href="#起因" class="headerlink" title="起因"></a>起因</h2><p>各种截图工具似乎都不太好用啊233，win的截取全屏/当前窗口都不太方便，无法截取任意位置，QQ截图用起来要好一些但图片则是默认保存在缓存，自己又不会改，那么…</p><h2 id="发展"><a href="#发展" class="headerlink" title="发展"></a>发展</h2><p>怎么用脚本按自己的想法实现截屏功能呢？想啊想，大致需要这些：</p><ul><li><p>启动截图方便，想法是可以使用autohotkey脚本自定义热键，或者修改注册表将命令添加进右键菜单</p></li><li><p>合适的截屏API，这里我找到了python的ImageCrab模块，通过调用grab()实现截屏，想要截取任意位置就要读入起始坐标参数x, y</p></li><li><p>监控鼠标左键点击事件和左键弹起事件，记录光标的坐标，实现选中区域高亮度显示</p></li><li><p>截屏完毕之后，修改，保存什么的…</p></li></ul><h2 id="废了"><a href="#废了" class="headerlink" title="废了"></a>废了</h2><p>学习了python关于操控鼠标的一些API，信心满满的开始了第一步，先截取一个全屏图像试试，于是写下：<br><figure class="highlight julia"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">from PIL <span class="keyword">import</span> ImageGrab</div><div class="line"></div><div class="line"><span class="literal">im</span> = ImageGrab.grab()</div><div class="line"><span class="literal">im</span>.show()</div><div class="line"><span class="literal">im</span>.save('test.jpg')</div></pre></td></tr></table></figure></p><h2 id="——————————————"><a href="#——————————————" class="headerlink" title="——————————————-"></a>——————————————-</h2><p>没有然后了，最后推荐一个看图软件 <strong>FastStone Image Viewer</strong>，不仅截图精确，而且可以很精确的修剪</p>]]></content>
    
    <summary type="html">
    
      坑
    
    </summary>
    
      <category term="Demo" scheme="https://blog.nightmare.xin/categories/Demo/"/>
    
    
      <category term="Demo" scheme="https://blog.nightmare.xin/tags/Demo/"/>
    
  </entry>
  
  <entry>
    <title>中华人民共和国网络安全法</title>
    <link href="https://blog.nightmare.xin/test7.html"/>
    <id>https://blog.nightmare.xin/test7.html</id>
    <published>2017-10-24T13:10:50.000Z</published>
    <updated>2018-03-18T13:10:48.731Z</updated>
    
    <content type="html"><![CDATA[<h2 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h2><p>​ 第一章 总 则</p><p>​ 第二章 网络安全支持与促进</p><p>​ 第三章 网络运行安全</p><p>​ 第一节 一般规定</p><p>​ 第二节 关键信息基础设施的运行安全</p><p>​ 第四章 网络信息安全</p><p>​ 第五章 监测预警与应急处置</p><p>​ 第六章 法律责任</p><p>​ 第七章 附 则</p><p><strong>第一章 总 则</strong></p><p><strong>第一条</strong> 为了保障网络安全，维护网络空间主权和国家安全、社会公共利益，保护公民、法人和其他组织的合法权益，促进经济社会信息化健康发展，制定本法。</p><p><strong>第二条</strong> 在中华人民共和国境内建设、运营、维护和使用网络，以及网络安全的监督管理，适用本法。</p><p><strong>第三条</strong> 国家坚持网络安全与信息化发展并重，遵循积极利用、科学发展、依法管理、确保安全的方针，推进网络基础设施建设和互联互通，鼓励网络技术创新和应用，支持培养网络安全人才，建立健全网络安全保障体系，提高网络安全保护能力。</p><p><strong>第四条</strong> 国家制定并不断完善网络安全战略，明确保障网络安全的基本要求和主要目标，提出重点领域的网络安全政策、工作任务和措施。</p><p><strong>第五条</strong> 国家采取措施，监测、防御、处置来源于中华人民共和国境内外的网络安全风险和威胁，保护关键信息基础设施免受攻击、侵入、干扰和破坏，依法惩治网络违法犯罪活动，维护网络空间安全和秩序。</p><p><strong>第六条</strong> 国家倡导诚实守信、健康文明的网络行为，推动传播社会主义核心价值观，采取措施提高全社会的网络安全意识和水平，形成全社会共同参与促进网络安全的良好环境。</p><p><strong>第七条</strong> 国家积极开展网络空间治理、网络技术研发和标准制定、打击网络违法犯罪等方面的国际交流与合作，推动构建和平、安全、开放、合作的网络空间，建立多边、民主、透明的网络治理体系。</p><p><strong>第八条</strong> 国家网信部门负责统筹协调网络安全工作和相关监督管理工作。国务院电信主管部门、公安部门和其他有关机关依照本法和有关法律、行政法规的规定，在各自职责范围内负责网络安全保护和监督管理工作。</p><p>县级以上地方人民政府有关部门的网络安全保护和监督管理职责，按照国家有关规定确定。</p><p><strong>第九条</strong> 网络运营者开展经营和服务活动，必须遵守法律、行政法规，尊重社会公德，遵守商业道德，诚实信用，履行网络安全保护义务，接受政府和社会的监督，承担社会责任。</p><p><strong>第十条</strong> 建设、运营网络或者通过网络提供服务，应当依照法律、行政法规的规定和国家标准的强制性要求，采取技术措施和其他必要措施，保障网络安全、稳定运行，有效应对网络安全事件，防范网络违法犯罪活动，维护网络数据的完整性、保密性和可用性。</p><p><strong>第十一条</strong> 网络相关行业组织按照章程，加强行业自律，制定网络安全行为规范，指导会员加强网络安全保护，提高网络安全保护水平，促进行业健康发展。</p><p><strong>第十二条</strong> 国家保护公民、法人和其他组织依法使用网络的权利，促进网络接入普及，提升网络服务水平，为社会提供安全、便利的网络服务，保障网络信息依法有序自由流动。</p><p>任何个人和组织使用网络应当遵守宪法法律，遵守公共秩序，尊重社会公德，不得危害网络安全，不得利用网络从事危害国家安全、荣誉和利益，煽动颠覆国家政权、推翻社会主义制度，煽动分裂国家、破坏国家统一，宣扬恐怖主义、极端主义，宣扬民族仇恨、民族歧视，传播暴力、淫秽色情信息，编造、传播虚假信息扰乱经济秩序和社会秩序，以及侵害他人名誉、隐私、知识产权和其他合法权益等活动。</p><p><strong>第十三条</strong> 国家支持研究开发有利于未成年人健康成长的网络产品和服务，依法惩治利用网络从事危害未成年人身心健康的活动，为未成年人提供安全、健康的网络环境。</p><p><strong>第十四条</strong> 任何个人和组织有权对危害网络安全的行为向网信、电信、公安等部门举报。收到举报的部门应当及时依法作出处理；不属于本部门职责的，应当及时移送有权处理的部门。</p><p>有关部门应当对举报人的相关信息予以保密，保护举报人的合法权益。</p><p><strong>第二章 网络安全支持与促进</strong></p><p><strong>第十五条</strong> 国家建立和完善网络安全标准体系。国务院标准化行政主管部门和国务院其他有关部门根据各自的职责，组织制定并适时修订有关网络安全管理以及网络产品、服务和运行安全的国家标准、行业标准。</p><p>国家支持企业、研究机构、高等学校、网络相关行业组织参与网络安全国家标准、行业标准的制定。</p><p><strong>第十六条</strong> 国务院和省、自治区、直辖市人民政府应当统筹规划，加大投入，扶持重点网络安全技术产业和项目，支持网络安全技术的研究开发和应用，推广安全可信的网络产品和服务，保护网络技术知识产权，支持企业、研究机构和高等学校等参与国家网络安全技术创新项目。</p><p><strong>第十七条</strong> 国家推进网络安全社会化服务体系建设，鼓励有关企业、机构开展网络安全认证、检测和风险评估等安全服务。</p><p><strong>第十八条</strong> 国家鼓励开发网络数据安全保护和利用技术，促进公共数据资源开放，推动技术创新和经济社会发展。</p><p>国家支持创新网络安全管理方式，运用网络新技术，提升网络安全保护水平。</p><p><strong>第十九条</strong> 各级人民政府及其有关部门应当组织开展经常性的网络安全宣传教育，并指导、督促有关单位做好网络安全宣传教育工作。</p><p>大众传播媒介应当有针对性地面向社会进行网络安全宣传教育。</p><p><strong>第二十条</strong> 国家支持企业和高等学校、职业学校等教育培训机构开展网络安全相关教育与培训，采取多种方式培养网络安全人才，促进网络安全人才交流。</p><p><strong>第三章 网络运行安全</strong></p><p>第一节 一般规定</p><p><strong>第二十一条</strong> 国家实行网络安全等级保护制度。网络运营者应当按照网络安全等级保护制度的要求，履行下列安全保护义务，保障网络免受干扰、破坏或者未经授权的访问，防止网络数据泄露或者被窃取、篡改：</p><p>（一）制定内部安全管理制度和操作规程，确定网络安全负责人，落实网络安全保护责任；</p><p>（二）采取防范计算机病毒和网络攻击、网络侵入等危害网络安全行为的技术措施；</p><p>（三）采取监测、记录网络运行状态、网络安全事件的技术措施，并按照规定留存相关的网络日志不少于六个月；</p><p>（四）采取数据分类、重要数据备份和加密等措施；</p><p>（五）法律、行政法规规定的其他义务。</p><p><strong>第二十二条</strong> 网络产品、服务应当符合相关国家标准的强制性要求。网络产品、服务的提供者不得设置恶意程序；发现其网络产品、服务存在安全缺陷、漏洞等风险时，应当立即采取补救措施，按照规定及时告知用户并向有关主管部门报告。</p><p>网络产品、服务的提供者应当为其产品、服务持续提供安全维护；在规定或者当事人约定的期限内，不得终止提供安全维护。</p><p>网络产品、服务具有收集用户信息功能的，其提供者应当向用户明示并取得同意；涉及用户个人信息的，还应当遵守本法和有关法律、行政法规关于个人信息保护的规定。</p><p><strong>第二十三条</strong> 网络关键设备和网络安全专用产品应当按照相关国家标准的强制性要求，由具备资格的机构安全认证合格或者安全检测符合要求后，方可销售或者提供。国家网信部门会同国务院有关部门制定、公布网络关键设备和网络安全专用产品目录，并推动安全认证和安全检测结果互认，避免重复认证、检测。</p><p><strong>第二十四条</strong> 网络运营者为用户办理网络接入、域名注册服务，办理固定电话、移动电话等入网手续，或者为用户提供信息发布、即时通讯等服务，在与用户签订协议或者确认提供服务时，应当要求用户提供真实身份信息。用户不提供真实身份信息的，网络运营者不得为其提供相关服务。</p><p>国家实施网络可信身份战略，支持研究开发安全、方便的电子身份认证技术，推动不同电子身份认证之间的互认。</p><p><strong>第二十五条</strong> 网络运营者应当制定网络安全事件应急预案，及时处置系统漏洞、计算机病毒、网络攻击、网络侵入等安全风险；在发生危害网络安全的事件时，立即启动应急预案，采取相应的补救措施，并按照规定向有关主管部门报告。</p><p><strong>第二十六条</strong> 开展网络安全认证、检测、风险评估等活动，向社会发布系统漏洞、计算机病毒、网络攻击、网络侵入等网络安全信息，应当遵守国家有关规定。</p><p><strong>第二十七条</strong> 任何个人和组织不得从事非法侵入他人网络、干扰他人网络正常功能、窃取网络数据等危害网络安全的活动；不得提供专门用于从事侵入网络、干扰网络正常功能及防护措施、窃取网络数据等危害网络安全活动的程序、工具；明知他人从事危害网络安全的活动的，不得为其提供技术支持、广告推广、支付结算等帮助。</p><p><strong>第二十八条</strong> 网络运营者应当为公安机关、国家安全机关依法维护国家安全和侦查犯罪的活动提供技术支持和协助。</p><p><strong>第二十九条</strong> 国家支持网络运营者之间在网络安全信息收集、分析、通报和应急处置等方面进行合作，提高网络运营者的安全保障能力。</p><p>有关行业组织建立健全本行业的网络安全保护规范和协作机制，加强对网络安全风险的分析评估，定期向会员进行风险警示，支持、协助会员应对网络安全风险。</p><p><strong>第三十条</strong> 网信部门和有关部门在履行网络安全保护职责中获取的信息，只能用于维护网络安全的需要，不得用于其他用途。</p><p>第二节 关键信息基础设施的运行安全</p><p><strong>第三十一条</strong> 国家对公共通信和信息服务、能源、交通、水利、金融、公共服务、电子政务等重要行业和领域，以及其他一旦遭到破坏、丧失功能或者数据泄露，可能严重危害国家安全、国计民生、公共利益的关键信息基础设施，在网络安全等级保护制度的基础上，实行重点保护。关键信息基础设施的具体范围和安全保护办法由国务院制定。</p><p>国家鼓励关键信息基础设施以外的网络运营者自愿参与关键信息基础设施保护体系。</p><p><strong>第三十二条</strong> 按照国务院规定的职责分工，负责关键信息基础设施安全保护工作的部门分别编制并组织实施本行业、本领域的关键信息基础设施安全规划，指导和监督关键信息基础设施运行安全保护工作。</p><p><strong>第三十三条</strong> 建设关键信息基础设施应当确保其具有支持业务稳定、持续运行的性能，并保证安全技术措施同步规划、同步建设、同步使用。</p><p><strong>第三十四条</strong> 除本法第二十一条的规定外，关键信息基础设施的运营者还应当履行下列安全保护义务：</p><p>（一）设置专门安全管理机构和安全管理负责人，并对该负责人和关键岗位的人员进行安全背景审查；</p><p>（二）定期对从业人员进行网络安全教育、技术培训和技能考核；</p><p>（三）对重要系统和数据库进行容灾备份；</p><p>（四）制定网络安全事件应急预案，并定期进行演练；</p><p>（五）法律、行政法规规定的其他义务。</p><p><strong>第三十五条</strong> 关键信息基础设施的运营者采购网络产品和服务，可能影响国家安全的，应当通过国家网信部门会同国务院有关部门组织的国家安全审查。</p><p><strong>第三十六条</strong> 关键信息基础设施的运营者采购网络产品和服务，应当按照规定与提供者签订安全保密协议，明确安全和保密义务与责任。</p><p><strong>第三十七条</strong> 关键信息基础设施的运营者在中华人民共和国境内运营中收集和产生的个人信息和重要数据应当在境内存储。因业务需要，确需向境外提供的，应当按照国家网信部门会同国务院有关部门制定的办法进行安全评估；法律、行政法规另有规定的，依照其规定。</p><p><strong>第三十八条</strong> 关键信息基础设施的运营者应当自行或者委托网络安全服务机构对其网络的安全性和可能存在的风险每年至少进行一次检测评估，并将检测评估情况和改进措施报送相关负责关键信息基础设施安全保护工作的部门。</p><p><strong>第三十九条</strong> 国家网信部门应当统筹协调有关部门对关键信息基础设施的安全保护采取下列措施：</p><p>（一）对关键信息基础设施的安全风险进行抽查检测，提出改进措施，必要时可以委托网络安全服务机构对网络存在的安全风险进行检测评估；</p><p>（二）定期组织关键信息基础设施的运营者进行网络安全应急演练，提高应对网络安全事件的水平和协同配合能力；</p><p>（三）促进有关部门、关键信息基础设施的运营者以及有关研究机构、网络安全服务机构等之间的网络安全信息共享；</p><p>（四）对网络安全事件的应急处置与网络功能的恢复等，提供技术支持和协助。</p><p><strong>第四章 网络信息安全</strong></p><p><strong>第四十条</strong> 网络运营者应当对其收集的用户信息严格保密，并建立健全用户信息保护制度。</p><p><strong>第四十一条</strong> 网络运营者收集、使用个人信息，应当遵循合法、正当、必要的原则，公开收集、使用规则，明示收集、使用信息的目的、方式和范围，并经被收集者同意。</p><p>网络运营者不得收集与其提供的服务无关的个人信息，不得违反法律、行政法规的规定和双方的约定收集、使用个人信息，并应当依照法律、行政法规的规定和与用户的约定，处理其保存的个人信息。</p><p><strong>第四十二条</strong> 网络运营者不得泄露、篡改、毁损其收集的个人信息；未经被收集者同意，不得向他人提供个人信息。但是，经过处理无法识别特定个人且不能复原的除外。</p><p>网络运营者应当采取技术措施和其他必要措施，确保其收集的个人信息安全，防止信息泄露、毁损、丢失。在发生或者可能发生个人信息泄露、毁损、丢失的情况时，应当立即采取补救措施，按照规定及时告知用户并向有关主管部门报告。</p><p><strong>第四十三条</strong> 个人发现网络运营者违反法律、行政法规的规定或者双方的约定收集、使用其个人信息的，有权要求网络运营者删除其个人信息；发现网络运营者收集、存储的其个人信息有错误的，有权要求网络运营者予以更正。网络运营者应当采取措施予以删除或者更正。</p><p><strong>第四十四条</strong> 任何个人和组织不得窃取或者以其他非法方式获取个人信息，不得非法出售或者非法向他人提供个人信息。</p><p><strong>第四十五条</strong> 依法负有网络安全监督管理职责的部门及其工作人员，必须对在履行职责中知悉的个人信息、隐私和商业秘密严格保密，不得泄露、出售或者非法向他人提供。</p><p><strong>第四十六条</strong> 任何个人和组织应当对其使用网络的行为负责，不得设立用于实施诈骗，传授犯罪方法，制作或者销售违禁物品、管制物品等违法犯罪活动的网站、通讯群组，不得利用网络发布涉及实施诈骗，制作或者销售违禁物品、管制物品以及其他违法犯罪活动的信息。</p><p><strong>第四十七条</strong> 网络运营者应当加强对其用户发布的信息的管理，发现法律、行政法规禁止发布或者传输的信息的，应当立即停止传输该信息，采取消除等处置措施，防止信息扩散，保存有关记录，并向有关主管部门报告。</p><p><strong>第四十八条</strong> 任何个人和组织发送的电子信息、提供的应用软件，不得设置恶意程序，不得含有法律、行政法规禁止发布或者传输的信息。</p><p>电子信息发送服务提供者和应用软件下载服务提供者，应当履行安全管理义务，知道其用户有前款规定行为的，应当停止提供服务，采取消除等处置措施，保存有关记录，并向有关主管部门报告。</p><p><strong>第四十九条</strong> 网络运营者应当建立网络信息安全投诉、举报制度，公布投诉、举报方式等信息，及时受理并处理有关网络信息安全的投诉和举报。</p><p>网络运营者对网信部门和有关部门依法实施的监督检查，应当予以配合。</p><p><strong>第五十条</strong> 国家网信部门和有关部门依法履行网络信息安全监督管理职责，发现法律、行政法规禁止发布或者传输的信息的，应当要求网络运营者停止传输，采取消除等处置措施，保存有关记录；对来源于中华人民共和国境外的上述信息，应当通知有关机构采取技术措施和其他必要措施阻断传播。</p><p><strong>第五章 监测预警与应急处置</strong></p><p><strong>第五十一条</strong> 国家建立网络安全监测预警和信息通报制度。国家网信部门应当统筹协调有关部门加强网络安全信息收集、分析和通报工作，按照规定统一发布网络安全监测预警信息。</p><p><strong>第五十二条</strong> 负责关键信息基础设施安全保护工作的部门，应当建立健全本行业、本领域的网络安全监测预警和信息通报制度，并按照规定报送网络安全监测预警信息。</p><p><strong>第五十三条</strong> 国家网信部门协调有关部门建立健全网络安全风险评估和应急工作机制，制定网络安全事件应急预案，并定期组织演练。</p><p>负责关键信息基础设施安全保护工作的部门应当制定本行业、本领域的网络安全事件应急预案，并定期组织演练。</p><p>网络安全事件应急预案应当按照事件发生后的危害程度、影响范围等因素对网络安全事件进行分级，并规定相应的应急处置措施。</p><p><strong>第五十四条</strong> 网络安全事件发生的风险增大时，省级以上人民政府有关部门应当按照规定的权限和程序，并根据网络安全风险的特点和可能造成的危害，采取下列措施：</p><p>（一）要求有关部门、机构和人员及时收集、报告有关信息，加强对网络安全风险的监测；</p><p>（二）组织有关部门、机构和专业人员，对网络安全风险信息进行分析评估，预测事件发生的可能性、影响范围和危害程度；</p><p>（三）向社会发布网络安全风险预警，发布避免、减轻危害的措施。</p><p><strong>第五十五条</strong> 发生网络安全事件，应当立即启动网络安全事件应急预案，对网络安全事件进行调查和评估，要求网络运营者采取技术措施和其他必要措施，消除安全隐患，防止危害扩大，并及时向社会发布与公众有关的警示信息。</p><p><strong>第五十六条</strong> 省级以上人民政府有关部门在履行网络安全监督管理职责中，发现网络存在较大安全风险或者发生安全事件的，可以按照规定的权限和程序对该网络的运营者的法定代表人或者主要负责人进行约谈。网络运营者应当按照要求采取措施，进行整改，消除隐患。</p><p><strong>第五十七条</strong> 因网络安全事件，发生突发事件或者生产安全事故的，应当依照《中华人民共和国突发事件应对法》、《中华人民共和国安全生产法》等有关法律、行政法规的规定处置。</p><p><strong>第五十八条</strong> 因维护国家安全和社会公共秩序，处置重大突发社会安全事件的需要，经国务院决定或者批准，可以在特定区域对网络通信采取限制等临时措施。</p><p><strong>第六章 法律责任</strong></p><p><strong>第五十九条</strong> 网络运营者不履行本法第二十一条、第二十五条规定的网络安全保护义务的，由有关主管部门责令改正，给予警告；拒不改正或者导致危害网络安全等后果的，处一万元以上十万元以下罚款，对直接负责的主管人员处五千元以上五万元以下罚款。</p><p>关键信息基础设施的运营者不履行本法第三十三条、第三十四条、第三十六条、第三十八条规定的网络安全保护义务的，由有关主管部门责令改正，给予警告；拒不改正或者导致危害网络安全等后果的，处十万元以上一百万元以下罚款，对直接负责的主管人员处一万元以上十万元以下罚款。</p><p><strong>第六十条</strong> 违反本法第二十二条第一款、第二款和第四十八条第一款规定，有下列行为之一的，由有关主管部门责令改正，给予警告；拒不改正或者导致危害网络安全等后果的，处五万元以上五十万元以下罚款，对直接负责的主管人员处一万元以上十万元以下罚款：</p><p>（一）设置恶意程序的；</p><p>（二）对其产品、服务存在的安全缺陷、漏洞等风险未立即采取补救措施，或者未按照规定及时告知用户并向有关主管部门报告的；</p><p>（三）擅自终止为其产品、服务提供安全维护的。</p><p><strong>第六十一条</strong> 网络运营者违反本法第二十四条第一款规定，未要求用户提供真实身份信息，或者对不提供真实身份信息的用户提供相关服务的，由有关主管部门责令改正；拒不改正或者情节严重的，处五万元以上五十万元以下罚款，并可以由有关主管部门责令暂停相关业务、停业整顿、关闭网站、吊销相关业务许可证或者吊销营业执照，对直接负责的主管人员和其他直接责任人员处一万元以上十万元以下罚款。</p><p><strong>第六十二条</strong> 违反本法第二十六条规定，开展网络安全认证、检测、风险评估等活动，或者向社会发布系统漏洞、计算机病毒、网络攻击、网络侵入等网络安全信息的，由有关主管部门责令改正，给予警告；拒不改正或者情节严重的，处一万元以上十万元以下罚款，并可以由有关主管部门责令暂停相关业务、停业整顿、关闭网站、吊销相关业务许可证或者吊销营业执照，对直接负责的主管人员和其他直接责任人员处五千元以上五万元以下罚款。</p><p><strong>第六十三条</strong> 违反本法第二十七条规定，从事危害网络安全的活动，或者提供专门用于从事危害网络安全活动的程序、工具，或者为他人从事危害网络安全的活动提供技术支持、广告推广、支付结算等帮助，尚不构成犯罪的，由公安机关没收违法所得，处五日以下拘留，可以并处五万元以上五十万元以下罚款；情节较重的，处五日以上十五日以下拘留，可以并处十万元以上一百万元以下罚款。</p><p>单位有前款行为的，由公安机关没收违法所得，处十万元以上一百万元以下罚款，并对直接负责的主管人员和其他直接责任人员依照前款规定处罚。</p><p>违反本法第二十七条规定，受到治安管理处罚的人员，五年内不得从事网络安全管理和网络运营关键岗位的工作；受到刑事处罚的人员，终身不得从事网络安全管理和网络运营关键岗位的工作。</p><p><strong>第六十四条</strong> 网络运营者、网络产品或者服务的提供者违反本法第二十二条第三款、第四十一条至第四十三条规定，侵害个人信息依法得到保护的权利的，由有关主管部门责令改正，可以根据情节单处或者并处警告、没收违法所得、处违法所得一倍以上十倍以下罚款，没有违法所得的，处一百万元以下罚款，对直接负责的主管人员和其他直接责任人员处一万元以上十万元以下罚款；情节严重的，并可以责令暂停相关业务、停业整顿、关闭网站、吊销相关业务许可证或者吊销营业执照。</p><p>违反本法第四十四条规定，窃取或者以其他非法方式获取、非法出售或者非法向他人提供个人信息，尚不构成犯罪的，由公安机关没收违法所得，并处违法所得一倍以上十倍以下罚款，没有违法所得的，处一百万元以下罚款。</p><p><strong>第六十五条</strong> 关键信息基础设施的运营者违反本法第三十五条规定，使用未经安全审查或者安全审查未通过的网络产品或者服务的，由有关主管部门责令停止使用，处采购金额一倍以上十倍以下罚款；对直接负责的主管人员和其他直接责任人员处一万元以上十万元以下罚款。</p><p><strong>第六十六条</strong> 关键信息基础设施的运营者违反本法第三十七条规定，在境外存储网络数据，或者向境外提供网络数据的，由有关主管部门责令改正，给予警告，没收违法所得，处五万元以上五十万元以下罚款，并可以责令暂停相关业务、停业整顿、关闭网站、吊销相关业务许可证或者吊销营业执照；对直接负责的主管人员和其他直接责任人员处一万元以上十万元以下罚款。</p><p><strong>第六十七条</strong> 违反本法第四十六条规定，设立用于实施违法犯罪活动的网站、通讯群组，或者利用网络发布涉及实施违法犯罪活动的信息，尚不构成犯罪的，由公安机关处五日以下拘留，可以并处一万元以上十万元以下罚款；情节较重的，处五日以上十五日以下拘留，可以并处五万元以上五十万元以下罚款。关闭用于实施违法犯罪活动的网站、通讯群组。</p><p>单位有前款行为的，由公安机关处十万元以上五十万元以下罚款，并对直接负责的主管人员和其他直接责任人员依照前款规定处罚。</p><p><strong>第六十八条</strong> 网络运营者违反本法第四十七条规定，对法律、行政法规禁止发布或者传输的信息未停止传输、采取消除等处置措施、保存有关记录的，由有关主管部门责令改正，给予警告，没收违法所得；拒不改正或者情节严重的，处十万元以上五十万元以下罚款，并可以责令暂停相关业务、停业整顿、关闭网站、吊销相关业务许可证或者吊销营业执照，对直接负责的主管人员和其他直接责任人员处一万元以上十万元以下罚款。</p><p>电子信息发送服务提供者、应用软件下载服务提供者，不履行本法第四十八条第二款规定的安全管理义务的，依照前款规定处罚。</p><p><strong>第六十九条</strong> 网络运营者违反本法规定，有下列行为之一的，由有关主管部门责令改正；拒不改正或者情节严重的，处五万元以上五十万元以下罚款，对直接负责的主管人员和其他直接责任人员，处一万元以上十万元以下罚款：</p><p>（一）不按照有关部门的要求对法律、行政法规禁止发布或者传输的信息，采取停止传输、消除等处置措施的；</p><p>（二）拒绝、阻碍有关部门依法实施的监督检查的；</p><p>（三）拒不向公安机关、国家安全机关提供技术支持和协助的。</p><p><strong>第七十条</strong> 发布或者传输本法第十二条第二款和其他法律、行政法规禁止发布或者传输的信息的，依照有关法律、行政法规的规定处罚。</p><p><strong>第七十一条</strong> 有本法规定的违法行为的，依照有关法律、行政法规的规定记入信用档案，并予以公示。</p><p><strong>第七十二条</strong> 国家机关政务网络的运营者不履行本法规定的网络安全保护义务的，由其上级机关或者有关机关责令改正；对直接负责的主管人员和其他直接责任人员依法给予处分。</p><p><strong>第七十三条</strong> 网信部门和有关部门违反本法第三十条规定，将在履行网络安全保护职责中获取的信息用于其他用途的，对直接负责的主管人员和其他直接责任人员依法给予处分。</p><p>网信部门和有关部门的工作人员玩忽职守、滥用职权、徇私舞弊，尚不构成犯罪的，依法给予处分。</p><p><strong>第七十四条</strong> 违反本法规定，给他人造成损害的，依法承担民事责任。</p><p>违反本法规定，构成违反治安管理行为的，依法给予治安管理处罚；构成犯罪的，依法追究刑事责任。</p><p><strong>第七十五条</strong> 境外的机构、组织、个人从事攻击、侵入、干扰、破坏等危害中华人民共和国的关键信息基础设施的活动，造成严重后果的，依法追究法律责任；国务院公安部门和有关部门并可以决定对该机构、组织、个人采取冻结财产或者其他必要的制裁措施。</p><p><strong>第七章 附 则</strong></p><p><strong>第七十六条</strong> 本法下列用语的含义：</p><p>（一）网络，是指由计算机或者其他信息终端及相关设备组成的按照一定的规则和程序对信息进行收集、存储、传输、交换、处理的系统。</p><p>（二）网络安全，是指通过采取必要措施，防范对网络的攻击、侵入、干扰、破坏和非法使用以及意外事故，使网络处于稳定可靠运行的状态，以及保障网络数据的完整性、保密性、可用性的能力。</p><p>（三）网络运营者，是指网络的所有者、管理者和网络服务提供者。</p><p>（四）网络数据，是指通过网络收集、存储、传输、处理和产生的各种电子数据。</p><p>（五）个人信息，是指以电子或者其他方式记录的能够单独或者与其他信息结合识别自然人个人身份的各种信息，包括但不限于自然人的姓名、出生日期、身份证件号码、个人生物识别信息、住址、电话号码等。</p><p><strong>第七十七条</strong> 存储、处理涉及国家秘密信息的网络的运行安全保护，除应当遵守本法外，还应当遵守保密法律、行政法规的规定。</p><p><strong>第七十八条</strong> 军事网络的安全保护，由中央军事委员会另行规定。</p><p><strong>第七十九条</strong> 本法自2017年6月1日起施行。</p>]]></content>
    
    <summary type="html">
    
      2016年11月7日第十二届全国人民代表大会常务委员会第二十四次会议通过
    
    </summary>
    
      <category term="Rules" scheme="https://blog.nightmare.xin/categories/Rules/"/>
    
    
      <category term="法律法规" scheme="https://blog.nightmare.xin/tags/%E6%B3%95%E5%BE%8B%E6%B3%95%E8%A7%84/"/>
    
  </entry>
  
  <entry>
    <title>追梦的西操</title>
    <link href="https://blog.nightmare.xin/test5.html"/>
    <id>https://blog.nightmare.xin/test5.html</id>
    <published>2017-10-23T13:56:59.000Z</published>
    <updated>2018-03-18T13:08:55.521Z</updated>
    
    <content type="html"><![CDATA[<h1 id="回忆"><a href="#回忆" class="headerlink" title="回忆"></a>回忆</h1><p>翻一翻以前的日记，大概从9.15开始的<br><img src="http://store.nightmare.xin/81448138f5f163ccdba4acc69819f280.png" alt=""><br>以前也试图坚持过，但总是很难坚持下来，这次一个月已经过去了，也算是小有成就吧。</p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>坚持锻炼不仅是体重减轻，肉肉减掉，强化身体防猝死，于我而言时刻提醒我去坚持梦想不放弃，还有最最最最重要的，晚上睡觉踏实多了(也许是我换了个枕头的缘故？)，远离修仙，从我做起。</p><p>ps: 听说瘦下来会变帅 Orz.</p>]]></content>
    
    <summary type="html">
    
      纪念坚持跑步一个月
    
    </summary>
    
      <category term="Life" scheme="https://blog.nightmare.xin/categories/Life/"/>
    
    
      <category term="DIARY" scheme="https://blog.nightmare.xin/tags/DIARY/"/>
    
  </entry>
  
  <entry>
    <title>记一次搭建博客全过程</title>
    <link href="https://blog.nightmare.xin/test4.html"/>
    <id>https://blog.nightmare.xin/test4.html</id>
    <published>2017-10-23T10:33:38.000Z</published>
    <updated>2018-03-18T07:00:40.106Z</updated>
    
    <content type="html"><![CDATA[<h1 id="最初的悸动"><a href="#最初的悸动" class="headerlink" title="最初的悸动"></a>最初的悸动</h1><p>每个学计算机的都应该萌生过搭建个人网站或写博客的想法吧。其一当然是觉得建站很牛逼，写博客的都是大佬；其二这个过程对自己也是很不错的锻炼和成长。</p><p>这里插一个小故事，再次感慨一下程序员之间的鄙视链，后端鄙视前端，开发鄙视运维（此处略去几万字）。大一上学期，一次上课某老师对我们说，前端就是做做网站，没什么技术含量的啊，反正那老师对前端很是鄙视的样子。。</p><p>大一下学期接触了一些网络编程，恰逢阿里有活动，十几块钱送1核2G的服务器ecs实例一个+对象存储+各种数据库+负载均衡全家桶六个月+VIP版云解析一年和一个价值不错的万网域名代金券，于是我就拥有了一个ubuntu服务器和一个域名。C++课设写的网络双人对战版中国象棋v1.0就是用服务器做媒介(仅仅用来获取一方IP交给另一方然后双方建立socket连接，还是很渣的)来完成的。做完之后自信心很膨胀啊就想搭建个人网站了无非就是写一些html放在服务器上让其他人去访问嘛，管他搭建好之后做什么，先搭建起来玩玩。然后看了一些html教程，内容不难，但自己写就是不会…看网上什么五分钟急速建站教程，用wordpress搭建网站，弄完hello页面就没碰过了。</p><p>然后是学python，在codewars(一个刷题网站)把py级别刷到2kyu，听说可以用python实现个人网站，前端页面后端数据库手动一行一行写，听的是热血沸腾…于是本辣鸡的大一就这么过去了。</p><p>大二知识面广了一些后会经常搜索一些东西，会搜到一些写的很不错的博客，一开始是CSDN博客，后来是博客园，然后是简书，然后就是各种炫酷的个人博客了。然后是现在的CTF小队他们都有自己的博客@Primykq<a href="http://qrzbing.cn/" target="_blank" rel="external">链接</a>和@a-Lie-Z<a href="http://qrzbing.cn/" target="_blank" rel="external">链接</a>，主要是看了曾老师的超级炫酷的博客<a href="https://www.rexskz.info/" target="_blank" rel="external">链接</a>就又想搭一个了，这次就一次性搭建好了。</p><h1 id="搭建开始"><a href="#搭建开始" class="headerlink" title="搭建开始"></a>搭建开始</h1><p>我的个人博客使用的是hexo+github pages搭建，这个只需要按着教程一步一步走就好了，<a href="http://www.jianshu.com/p/ab21abc31153" target="_blank" rel="external">参考链接</a>。手上正巧还有一个(还有几个月过期)的域名，顺手在域名服务商做了CNAME解析到自己的github pages</p><h1 id="美化"><a href="#美化" class="headerlink" title="美化"></a>美化</h1><p>网上有一些hexo美化的教程，但做出来的效果不太满意，有些高难度的操作起来又总是出错，干脆自己折腾吧。</p><p><img src="http://store.nightmare.xin/54324234.png" alt=""></p><p>选用了next主题，折腾了两天还是有点效果的。</p><p>基础的一些配置在hexo根目录下的_config.yml文件中，主题配置在themes/next/_config.yml中，一些个性化配置则需要修改主题目录下的source目录。</p><p>source目录下有css, fonts, images, js, lib五个文件夹，修改颜色背景标题栏大小挂件之类的样式需要去修改css，其他四个文件夹存储渲染页面需要用到的字体，图片，js特效和依赖文件。</p><p>我做的修改如下(均在css文件夹中)：</p><p>在_custom/custom.styl添加<br><figure class="highlight scss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// Custom styles.</span></div><div class="line"><span class="selector-tag">body</span> &#123;</div><div class="line">    <span class="attribute">background</span>: url(/images/GOQS6G4LH2Z1_1000x500.jpg);</div><div class="line">    <span class="attribute">background-size</span>: cover;</div><div class="line">    <span class="attribute">background-repeat</span>: no-repeat;</div><div class="line">    <span class="attribute">background-attachment</span>: fixed;</div><div class="line">    <span class="attribute">background-position</span>: center;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p><p>这样就有了背景图。但是next的Pisces不支持文本半透明，导致图片大部分被遮住了，于是继续修改_schemes/Pisces文件夹。我基本是看到什么改什么，打开hexo s –debug本地调试，一点一点的改，里面碰到一些变量我找了好久找不到它在哪里，比如这样的。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.content-wrap</span> &#123;</div><div class="line">  <span class="attribute">float</span>: right;</div><div class="line">  <span class="attribute">box-sizing</span>: border-box;</div><div class="line">  <span class="attribute">padding</span>: $content-desktop-padding;</div><div class="line">  <span class="attribute">width</span>: $content-desktop;</div><div class="line">  <span class="attribute">min-height</span>: <span class="number">700px</span>;</div></pre></td></tr></table></figure></p><p>于是，，碰到这种变量不知道是什么值我又特别想改，，就直接改了，终于在我的不懈努力下改完了！</p><p>但是！！！最终在我打开variables文件夹后心态崩溃了，里面base.styl(基本样式)和Pisces.styl(Pisces特有的样式)存储了所有这些变量还附带了说明，我如同一个白痴晕晕乎乎瞎改了一遍，在那么一瞬间都想重装next了，想想毕竟是自己的成果，还是就这样吧，何必自己为难自己…</p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>本来想写成一篇技术博客的，不知不觉就成了流水账，一是菜二是懒，唉，就当成随笔吧。</p>]]></content>
    
    <summary type="html">
    
      今天我翻新了我的博客外观(没错，就是你们现在看到的这样子)，吃饱喝足之后，干脆和我搭建博客的过程一起记录一下吧
    
    </summary>
    
      <category term="Action" scheme="https://blog.nightmare.xin/categories/Action/"/>
    
    
      <category term="hexo" scheme="https://blog.nightmare.xin/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>快速获取markdown图片链接</title>
    <link href="https://blog.nightmare.xin/test3.html"/>
    <id>https://blog.nightmare.xin/test3.html</id>
    <published>2017-10-22T14:39:47.000Z</published>
    <updated>2018-03-18T13:08:20.137Z</updated>
    
    <content type="html"><![CDATA[<h1 id="markdown简介"><a href="#markdown简介" class="headerlink" title="markdown简介"></a>markdown简介</h1><p>Markdown 是一种轻量级标记语言，创始人为约翰·格鲁伯（英语：John Gruber）。它允许人们“使用易读易写的纯文本格式编写文档，然后转换成有效的XHTML(或者HTML)文档”。这种语言吸收了很多在电子邮件中已有的纯文本标记的特性，被称作“「电子邮件」风格的「标记语言」”。</p><p>markdown语法参考<a href="http://www.jianshu.com/p/q81RER" target="_blank" rel="external">链接</a></p><h1 id="七牛云简介"><a href="#七牛云简介" class="headerlink" title="七牛云简介"></a>七牛云简介</h1><p>这里主要使用七牛云作为图床————也就是互联网上的一处空间————来存储markdown需要的图片。</p><h1 id="autohotkey-python简介"><a href="#autohotkey-python简介" class="headerlink" title="autohotkey+python简介"></a>autohotkey+python简介</h1><p>autohotkey使用一种极为简便的语法来创建脚本自定义热键，python同样以简洁的语法和强大的功能著称，两者配合就可以使用热键快速的解决很多复杂问题。</p><h1 id="功能"><a href="#功能" class="headerlink" title="功能"></a>功能</h1><p>设置快捷键，实现一键<strong>上传图片到七牛云存储，并复制外链到剪切板</strong>，避免编写markdown文档时<strong>打开七牛云+上传图片+复制外链</strong>的繁杂操作。</p><h1 id="代码地址"><a href="#代码地址" class="headerlink" title="代码地址"></a>代码地址</h1><p><a href="https://github.com/kur0mi/tools/tree/master/picture_upload" target="_blank" rel="external">picture_upload</a></p><h1 id="结语"><a href="#结语" class="headerlink" title="结语"></a>结语</h1><p>nothing…</p><p>ps: 第一次写这种博客，时间也有点匆忙，以后有时间再改改吧。</p>]]></content>
    
    <summary type="html">
    
      使用autohotkey自定义热键，并通过利用python脚本强大的处理能力，实现一键处理功能
    
    </summary>
    
      <category term="Action" scheme="https://blog.nightmare.xin/categories/Action/"/>
    
    
      <category term="Demo" scheme="https://blog.nightmare.xin/tags/Demo/"/>
    
  </entry>
  
</feed>
